/*! For license information please see search.min.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={332:(e,t,n)=>{n.d(t,{A:()=>i}),n(934);var r=n(283);function i(e){o(e,"add"),o(e,"append"),o(e,"search"),o(e,"update"),o(e,"remove")}function o(e,t){e[t+"Async"]=function(){const e=this,n=arguments,i=n[n.length-1];let o;(0,r.Qk)(i)&&(o=i,delete n[n.length-1]);const s=new Promise((function(r){setTimeout((function(){e.async=!0;const i=e[t].apply(e,n);e.async=!1,r(i)}))}));return o?(s.then(o),this):s}}},270:(e,t,n)=>{n.d(t,{A:()=>o,p:()=>s}),n(934);var r=n(283);function i(e){this.limit=!0!==e&&e,this.cache=(0,r.fp)(),this.queue=[]}const o=i;function s(e,t,n){(0,r.vZ)(e)&&(e=e.query);let i=this.cache.get(e);return i||(i=this.search(e,t,n),this.cache.set(e,i)),i}i.prototype.set=function(e,t){if(!this.cache[e]){let t=this.queue.length;t===this.limit?delete this.cache[this.queue[t-1]]:t++;for(let e=t-1;0<e;e--)this.queue[e]=this.queue[e-1];this.queue[0]=e}this.cache[e]=t},i.prototype.get=function(e){const t=this.cache[e];if(this.limit&&t){const t=this.queue.indexOf(e);if(t){const e=this.queue[t-1];this.queue[t-1]=this.queue[t],this.queue[t]=e}}return t},i.prototype.del=function(e){for(let t,n,r=0;r<this.queue.length;r++)n=this.queue[r],t=this.cache[n],t.includes(e)&&(this.queue.splice(r--,1),delete this.cache[n])}},283:(e,t,n)=>{function r(e,t){return void 0!==e?e:t}function i(e){const t=Array(e);for(let n=0;n<e;n++)t[n]=s();return t}function o(e){return Object.keys(e)}function s(){return Object.create(null)}function l(e){return[].concat.apply([],e)}function _(e,t){return t.length-e.length}function c(e){return e.constructor===Array}function u(e){return"string"==typeof e}function a(e){return"object"==typeof e}function h(e){return"function"==typeof e}n.d(t,{LF:()=>_,PI:()=>c,PM:()=>u,Qk:()=>h,Vr:()=>i,WE:()=>o,fp:()=>s,uM:()=>r,vZ:()=>a,xW:()=>l})},352:(e,t,n)=>{n.d(t,{A:()=>y}),n(934);var r=n(283);function i(e,t,n,r){if(e&&(t&&(e=l(e,t)),this.matcher&&(e=l(e,this.matcher)),this.stemmer&&1<e.length&&(e=l(e,this.stemmer)),r&&1<e.length&&(e=function(e){let t="",n="";for(let r,i=0,o=e.length;i<o;i++)(r=e[i])!==n&&(t+=n=r);return t}(e)),n||""===n)){const t=e.split(n);return this.filter?function(e,t){const n=e.length,r=[];for(let i=0,o=0;i<n;i++){const n=e[i];n&&!t[n]&&(r[o++]=n)}return r}(t,this.filter):t}return e}const o=/[\p{Z}\p{S}\p{P}\p{C}]+/u;function s(e,t){const n=(0,r.WE)(e),i=n.length,o=[];let s="",l=0;for(let r,c,u=0;u<i;u++)r=n[u],c=e[r],c?(o[l++]=_(t?"(?!\\b)"+r+"(\\b|_)":r),o[l++]=c):s+=(s?"|":"")+r;return s&&(o[l++]=_(t?"(?!\\b)("+s+")(\\b|_)":"("+s+")"),o[l]=""),o}function l(e,t){for(let n=0,r=t.length;n<r&&(e=e.replace(t[n],t[n+1]));n+=2);return e}function _(e){return new RegExp(e,"g")}function c(e){return i.call(this,(""+e).toLowerCase(),!1,o,!1)}const u={},a={};var h=n(332),f=n(401),p=n(270);const d={memory:{charset:"latin:extra",resolution:3,minlength:4,fastupdate:!1},performance:{resolution:3,minlength:3,optimize:!1,context:{depth:2,resolution:1}},match:{charset:"latin:extra",tokenize:"reverse"},score:{charset:"latin:advanced",resolution:20,minlength:3,context:{depth:3,resolution:9}},default:{}};var m=n(410);function g(e,t){if(!(this instanceof g))return new g(e);let n,i,o;e?(e=function(e){if((0,r.PM)(e))e=d[e];else{const t=e.preset;t&&(e=Object.assign({},t[t],e))}return e}(e),n=e.charset,i=e.lang,(0,r.PM)(n)&&(-1===n.indexOf(":")&&(n+=":default"),n=a[n]),(0,r.PM)(i)&&(i=u[i])):e={};let l,_,h=e.context||{};this.encode=e.encode||n&&n.encode||c,this.register=t||(0,r.fp)(),this.resolution=l=e.resolution||9,this.tokenize=o=n&&n.tokenize||e.tokenize||"strict",this.depth="strict"===o&&h.depth,this.bidirectional=(0,r.uM)(h.bidirectional,!0),this.optimize=_=(0,r.uM)(e.optimize,!0),this.fastupdate=(0,r.uM)(e.fastupdate,!0),this.minlength=e.minlength||1,this.boost=e.boost,this.map=_?(0,r.Vr)(l):(0,r.fp)(),this.resolution_ctx=l=h.resolution||1,this.ctx=_?(0,r.Vr)(l):(0,r.fp)(),this.rtl=n&&n.rtl||e.rtl,this.matcher=(o=e.matcher||i&&i.matcher)&&s(o,!1),this.stemmer=(o=e.stemmer||i&&i.stemmer)&&s(o,!0),this.filter=(o=e.filter||i&&i.filter)&&function(e){const t=(0,r.fp)();for(let n=0,r=e.length;n<r;n++)t[e[n]]=1;return t}(o),this.cache=(o=e.cache)&&new p.A(o)}const y=g;function v(e,t,n,r,i){return n&&1<e?t+(r||0)<=e?n+(i||0):0|(e-1)/(t+(r||0))*(n+(i||0))+1:0}function k(e,t,n){return e=1===e.length?e[0]:(0,r.xW)(e),n||e.length>t?e.slice(n,n+t):e}function w(e,t,n,r){if(n){const i=r&&t>n;e=(e=e[i?t:n])&&e[i?n:t]}else e=e[t];return e}function b(e,t,n,i,o){let s=0;if((0,r.PI)(e))if(o){const n=e.indexOf(t);-1!==n?1<e.length&&(e.splice(n,1),s++):s++}else{o=Math.min(e.length,n);for(let r,l=0;l<o;l++)r=e[l],r&&(s=b(r,t,n,i,o),i||s||delete e[l])}else for(let r in e)s=b(e[r],t,n,i,o),s||delete e[r];return s}g.prototype.append=function(e,t){return this.add(e,t,!0)},g.prototype.add=function(e,t,n,i){if(t&&(e||0===e)){if(!i&&!n&&this.register[e])return this.update(e,t);const o=(t=this.encode(""+t)).length;if(o){const i=(0,r.fp)(),s=(0,r.fp)(),l=this.depth,_=this.resolution;for(let c=0;c<o;c++){let u=t[this.rtl?o-1-c:c],a=u.length;if(u&&a>=this.minlength&&(l||!s[u])){let h=v(_,o,c),f="";switch(this.tokenize){case"full":if(2<a){for(let t=0;t<a;t++)for(let r=a;r>t;r--)if(r-t>=this.minlength){const i=v(_,o,c,a,t);f=u.substring(t,r),this.push_index(s,f,i,e,n)}break}case"reverse":if(1<a){for(let t=a-1;0<t;t--)if(f=u[t]+f,f.length>=this.minlength){const r=v(_,o,c,a,t);this.push_index(s,f,r,e,n)}f=""}case"forward":if(1<a){for(let t=0;t<a;t++)f+=u[t],f.length>=this.minlength&&this.push_index(s,f,h,e,n);break}default:if(this.boost&&(h=Math.min(0|h/this.boost(t,u,c),_-1)),this.push_index(s,u,h,e,n),l&&1<o&&c<o-1){const s=(0,r.fp)(),_=this.resolution_ctx,a=u,h=Math.min(l+1,o-c);s[a]=1;for(let r=1;r<h;r++)if(u=t[this.rtl?o-1-c-r:c+r],u&&u.length>=this.minlength&&!s[u]){s[u]=1;const t=v(_+(o/2>_?0:1),o,c,h-1,r-1),l=this.bidirectional&&u>a;this.push_index(i,l?a:u,t,e,n,l?u:a)}}}}}this.fastupdate||(this.register[e]=1)}}return this},g.prototype.push_index=function(e,t,n,i,o,s){let l=s?this.ctx:this.map;if((!e[t]||s&&!e[t][s])&&(this.optimize&&(l=l[n]),s?((e=e[t]||(e[t]=(0,r.fp)()))[s]=1,l=l[s]||(l[s]=(0,r.fp)())):e[t]=1,l=l[t]||(l[t]=[]),this.optimize||(l=l[n]||(l[n]=[])),(!o||!l.includes(i))&&(l[l.length]=i,this.fastupdate))){const e=this.register[i]||(this.register[i]=[]);e[e.length]=l}},g.prototype.search=function(e,t,n){n||(!t&&(0,r.vZ)(e)?e=(n=e).query:(0,r.vZ)(t)&&(n=t));let i,o,s,l=[],_=0;if(n&&(e=n.query||e,t=n.limit,_=n.offset||0,o=n.context,s=n.suggest),e&&(i=(e=this.encode(""+e)).length,1<i)){const t=(0,r.fp)(),n=[];for(let r,o=0,_=0;o<i;o++)if(r=e[o],r&&r.length>=this.minlength&&!t[r]){if(!(this.optimize||s||this.map[r]))return l;n[_++]=r,t[r]=1}i=(e=n).length}if(!i)return l;t||(t=100);let c,u=this.depth&&1<i&&!1!==o,a=0;u?(c=e[0],a=1):1<i&&e.sort(r.LF);for(let n,r;a<i;a++){if(r=e[a],u?(n=this.add_result(l,s,t,_,2===i,r,c),s&&!1===n&&l.length||(c=r)):n=this.add_result(l,s,t,_,1===i,r),n)return n;if(s&&a==i-1){let e=l.length;if(!e){if(u){u=0,a=-1;continue}return l}if(1===e)return k(l[0],t,_)}}return(0,f.y)(l,t,_,s)},g.prototype.add_result=function(e,t,n,r,i,o,s){let l=[],_=s?this.ctx:this.map;if(this.optimize||(_=w(_,o,s,this.bidirectional)),_){let t=0;const c=Math.min(_.length,s?this.resolution_ctx:this.resolution);for(let e,u,a=0,h=0;a<c&&(e=_[a],!(e&&(this.optimize&&(e=w(e,o,s,this.bidirectional)),r&&e&&i&&(u=e.length,u<=r?(r-=u,e=null):(e=e.slice(r),r=0)),e&&(l[t++]=e,i&&(h+=e.length,h>=n)))));a++);if(t)return i?k(l,n,0):void(e[e.length]=l)}return!t&&l},g.prototype.contain=function(e){return!!this.register[e]},g.prototype.update=function(e,t){return this.remove(e).add(e,t)},g.prototype.remove=function(e,t){const n=this.register[e];if(n){if(this.fastupdate)for(let t,r=0;r<n.length;r++)t=n[r],t.splice(t.indexOf(e),1);else b(this.map,e,this.resolution,this.optimize),this.depth&&b(this.ctx,e,this.resolution_ctx,this.optimize);t||delete this.register[e],this.cache&&this.cache.del(e)}return this},g.prototype.searchCache=p.p,g.prototype.export=m.FQ,g.prototype.import=m.yC,(0,h.A)(g.prototype)},401:(e,t,n)=>{n.d(t,{c:()=>o,y:()=>i});var r=n(283);function i(e,t,n,i){const o=e.length;let s,l,_=[],c=0;i&&(i=[]);for(let u=o-1;0<=u;u--){const a=e[u],h=a.length,f=(0,r.fp)();let p=!s;for(let e=0;e<h;e++){const r=a[e],h=r.length;if(h)for(let e,a,d=0;d<h;d++)if(a=r[d],s){if(s[a]){if(!u)if(n)n--;else if(_[c++]=a,c===t)return _;(u||i)&&(f[a]=1),p=!0}if(i&&(e=(l[a]||0)+1,l[a]=e,e<o)){const t=i[e-2]||(i[e-2]=[]);t[t.length]=a}}else f[a]=1}if(i)s||(l=f);else if(!p)return[];s=f}if(i)for(let e,r,o=i.length-1;0<=o;o--){e=i[o],r=e.length;for(let i,o=0;o<r;o++)if(i=e[o],!s[i]){if(n)n--;else if(_[c++]=i,c===t)return _;s[i]=1}}return _}function o(e,t){const n=(0,r.fp)(),i=(0,r.fp)(),o=[];for(let t=0;t<e.length;t++)n[e[t]]=1;for(let e,r=0;r<t.length;r++){e=t[r];for(let t,r=0;r<e.length;r++)t=e[r],n[t]&&(i[t]||(i[t]=1,o[o.length]=t))}return o}},410:(e,t,n)=>{n.d(t,{FQ:()=>o,UE:()=>l,b9:()=>_,yC:()=>s}),n(934);var r=n(283);function i(e,t,n,r,i,o,s,l){setTimeout((function(){const _=e(n?n+"."+r:r,JSON.stringify(s));_&&_.then?_.then((function(){t.export(e,t,n,i,o+1,l)})):t.export(e,t,n,i,o+1,l)}))}function o(e,t,n,o,s,l){let _,c,u=!0;switch(void 0===l&&(u=new Promise((e=>{l=e}))),s||(s=0)){case 0:if(_="reg",this.fastupdate){c=(0,r.fp)();for(let e in this.register)c[e]=1}else c=this.register;break;case 1:_="cfg",c={doc:0,opt:this.optimize?1:0};break;case 2:_="map",c=this.map;break;case 3:_="ctx",c=this.ctx;break;default:return void(void 0===n&&l&&l())}return i(e,t||this,n,_,o,s,c,l),u}function s(e,t){if(t)switch((0,r.PM)(t)&&(t=JSON.parse(t)),e){case"cfg":this.optimize=!!t.opt;break;case"reg":this.fastupdate=!1,this.register=t;break;case"map":this.map=t;break;case"ctx":this.ctx=t}}function l(e,t,n,r,o,s){let l;if(void 0===s&&(l=new Promise((e=>{s=e}))),o||(o=0),r||(r=0),r<this.field.length){const n=this.field[r],i=this.index[n];t=this,setTimeout((function(){i.export(e,t,o?n:"",r,o++,s)||(r++,o=1,t.export(e,t,n,r,o,s))}))}else{let t,l;switch(o){case 1:t="tag",l=this.tagindex,n=null;break;case 2:t="store",l=this.store,n=null;break;default:return void s()}i(e,this,n,t,r,o,l,s)}return l}function _(e,t){if(t)switch((0,r.PM)(t)&&(t=JSON.parse(t)),e){case"tag":this.tagindex=t;break;case"reg":this.fastupdate=!1,this.register=t;for(let e,n=0;n<this.field.length;n++)e=this.index[this.field[n]],e.register=t,e.fastupdate=!1;break;case"store":this.store=t;break;default:const n=(e=e.split("."))[0];e=e[1],n&&e&&this.index[n].import(e,t)}}},934:(e,t,n)=>{function r(){this.cache=null,this.matcher=null,this.stemmer=null,this.filter=null}r.prototype.add,r.prototype.append,r.prototype.search,r.prototype.update,r.prototype.remove},955:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(352);function i(e){e=e.data;const t=self._index,n=e.args,i=e.task;if("init"===i){const t=e.options||{},n=e.factory,i=t.encode;t.cache=!1,i&&0===i.indexOf("function")&&(t.encode=Function("return "+i)()),n?(Function("return "+n)()(self),self._index=new self.FlexSearch.Index(t),delete self.FlexSearch):self._index=new r.A(t)}else{const r=e.id,o=t[i].apply(t,n);postMessage("search"===i?{id:r,msg:o}:{id:r})}}},619:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _common_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(283),_handler_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(955);let pid=0;function WorkerIndex(e){if(!(this instanceof WorkerIndex))return new WorkerIndex(e);let t;e?(0,_common_js__WEBPACK_IMPORTED_MODULE_1__.Qk)(t=e.encode)&&(e.encode=t.toString()):e={};let n=(self||window)._factory;n&&(n=n.toString());const r="undefined"==typeof window&&self.exports,i=this;this.worker=create(n,r,e.worker),this.resolver=(0,_common_js__WEBPACK_IMPORTED_MODULE_1__.fp)(),this.worker&&(r?this.worker.on("message",(function(e){i.resolver[e.id](e.msg),delete i.resolver[e.id]})):this.worker.onmessage=function(e){e=e.data,i.resolver[e.id](e.msg),delete i.resolver[e.id]},this.worker.postMessage({task:"init",factory:n,options:e}))}const __WEBPACK_DEFAULT_EXPORT__=WorkerIndex;function register(e){WorkerIndex.prototype[e]=WorkerIndex.prototype[e+"Async"]=function(){const t=this,n=[].slice.call(arguments),r=n[n.length-1];let i;(0,_common_js__WEBPACK_IMPORTED_MODULE_1__.Qk)(r)&&(i=r,n.splice(n.length-1,1));const o=new Promise((function(r){setTimeout((function(){t.resolver[++pid]=r,t.worker.postMessage({task:e,id:pid,args:n})}))}));return i?(o.then(i),this):o}}function create(factory,is_node_js,worker_path){let worker;try{worker=is_node_js?eval('new (require("worker_threads")["Worker"])(__dirname + "/node/node.js")'):factory?new Worker(URL.createObjectURL(new Blob(["onmessage="+_handler_js__WEBPACK_IMPORTED_MODULE_0__.A.toString()],{type:"text/javascript"}))):new Worker((0,_common_js__WEBPACK_IMPORTED_MODULE_1__.PM)(worker_path)?worker_path:"worker/worker.js",{type:"module"})}catch(e){}return worker}register("add"),register("append"),register("search"),register("update"),register("remove")}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={},dist_module=__webpack_require__(352),type=__webpack_require__(934),cache=__webpack_require__(270),common=__webpack_require__(283),module_async=__webpack_require__(332),intersect=__webpack_require__(401),serialize=__webpack_require__(410),worker=__webpack_require__(619);function Document(e){if(!(this instanceof Document))return new Document(e);const t=e.document||e.doc||e;let n;this.tree=[],this.field=[],this.marker=[],this.register=(0,common.fp)(),this.key=(n=t.key||t.id)&&parse_tree(n,this.marker)||"id",this.fastupdate=(0,common.uM)(e.fastupdate,!0),this.storetree=(n=t.store)&&!0!==n&&[],this.store=n&&(0,common.fp)(),this.tag=(n=t.tag)&&parse_tree(n,this.marker),this.tagindex=n&&(0,common.fp)(),this.cache=(n=e.cache)&&new cache.A(n),e.cache=!1,this.worker=e.worker,this.async=!1,this.index=parse_descriptor.call(this,e,t)}const module_document=Document;function parse_descriptor(e,t){const n=(0,common.fp)();let r=t.index||t.field||t;(0,common.PM)(r)&&(r=[r]);for(let t,i,o=0;o<r.length;o++)t=r[o],(0,common.PM)(t)||(i=t,t=t.field),i=(0,common.vZ)(i)?Object.assign({},e,i):e,this.worker&&(n[t]=new worker.A(i),n[t].worker||(this.worker=!1)),this.worker||(n[t]=new dist_module.A(i,this.register)),this.tree[o]=parse_tree(t,this.marker),this.field[o]=t;if(this.storetree){let e=t.store;(0,common.PM)(e)&&(e=[e]);for(let t=0;t<e.length;t++)this.storetree[t]=parse_tree(e[t],this.marker)}return n}function parse_tree(e,t){const n=e.split(":");let r=0;for(let i=0;i<n.length;i++)0<=(e=n[i]).indexOf("[]")&&(e=e.substring(0,e.length-2))&&(t[r]=!0),e&&(n[r++]=e);return r<n.length&&(n.length=r),1<r?n:n[0]}function parse_simple(e,t){if((0,common.PM)(t))e=e[t];else for(let n=0;e&&n<t.length;n++)e=e[t[n]];return e}function store_value(e,t,n,r,i){if(e=e[i],r===n.length-1)t[i]=e;else if(e)if((0,common.PI)(e)){t=t[i]=Array(e.length);for(let i=0;i<e.length;i++)store_value(e,t,n,r,i)}else t=t[i]||(t[i]=(0,common.fp)()),i=n[++r],store_value(e,t,n,r,i)}function add_index(e,t,n,r,i,o,s,l){if(e=e[s])if(r===t.length-1){if((0,common.PI)(e)){if(n[r]){for(let t=0;t<e.length;t++)i.add(o,e[t],!0,!0);return}e=e.join(" ")}i.add(o,e,l,!0)}else if((0,common.PI)(e))for(let s=0;s<e.length;s++)add_index(e,t,n,r,i,o,s,l);else s=t[++r],add_index(e,t,n,r,i,o,s,l)}function get_tag(e,t,n){let r=this.tagindex[e];r&&r.length}function apply_enrich(e){const t=Array(e.length);for(let n,r=0;r<e.length;r++)n=e[r],t[r]={id:n,doc:this.store[n]};return t}Document.prototype.add=function(e,t,n){if((0,common.vZ)(e)&&(e=parse_simple(t=e,this.key)),t&&(e||0===e)){if(!n&&this.register[e])return this.update(e,t);for(let r,i,o=0;o<this.field.length;o++)i=this.field[o],r=this.tree[o],(0,common.PM)(r)&&(r=[r]),add_index(t,r,this.marker,0,this.index[i],e,r[0],n);if(this.tag){let r=parse_simple(t,this.tag),i=(0,common.fp)();(0,common.PM)(r)&&(r=[r]);for(let t,o,s=0;s<r.length;s++)if(t=r[s],!i[t]&&(i[t]=1,o=this.tagindex[t]||(this.tagindex[t]=[]),(!n||!o.includes(e))&&(o[o.length]=e,this.fastupdate))){const t=this.register[e]||(this.register[e]=[]);t[t.length]=o}}if(this.store&&(!n||!this.store[e])){let n;if(this.storetree){n=(0,common.fp)();for(let e,r=0;r<this.storetree.length;r++)e=this.storetree[r],(0,common.PM)(e)?n[e]=t[e]:store_value(t,n,e,0,e[0])}this.store[e]=n||t}}return this},Document.prototype.append=function(e,t){return this.add(e,t,!0)},Document.prototype.update=function(e,t){return this.remove(e).add(e,t)},Document.prototype.remove=function(e){if((0,common.vZ)(e)&&(e=parse_simple(e,this.key)),this.register[e]){for(let t=0;t<this.field.length&&(this.index[this.field[t]].remove(e,!this.worker),!this.fastupdate);t++);if(this.tag&&!this.fastupdate)for(let t in this.tagindex){const n=this.tagindex[t],r=n.indexOf(e);-1!==r&&(1<n.length?n.splice(r,1):delete this.tagindex[t])}this.store&&delete this.store[e],delete this.register[e]}return this},Document.prototype.search=function(e,t,n,r){n||(!t&&(0,common.vZ)(e)?(n=e,e=""):(0,common.vZ)(t)&&(n=t,t=0));let i,o,s,l,_,c,u=[],a=[],h=0;if(n)if((0,common.PI)(n))s=n,n=null;else{if(e=n.query||e,i=n.pluck,s=i||n.index||n.field,l=n.tag,o=this.store&&n.enrich,_="and"===n.bool,t=n.limit||t||100,c=n.offset||0,l&&((0,common.PM)(l)&&(l=[l]),!e)){for(let e,n=0;n<l.length;n++)e=get_tag.call(this,l[n],t,c,o),e&&(u[u.length]=e,h++);return h?u:[]}(0,common.PM)(s)&&(s=[s])}s||(s=this.field),_=_&&(1<s.length||l&&1<l.length);const f=!r&&(this.worker||this.async)&&[];for(let i,p,d,m=0;m<s.length;m++){let g;if(p=s[m],(0,common.PM)(p)||(g=p,p=g.field,e=g.query||e,t=g.limit||t,o=g.enrich||o),f)f[m]=this.index[p].searchAsync(e,t,g||n);else{if(i=r?r[m]:this.index[p].search(e,t,g||n),d=i&&i.length,l&&d){const e=[];let n=0;_&&(e[0]=[i]);for(let t,r,i=0;i<l.length;i++)t=l[i],r=this.tagindex[t],d=r&&r.length,d&&(n++,e[e.length]=_?[r]:r);n&&(i=_?(0,intersect.y)(e,t||100,c||0):(0,intersect.c)(i,e),d=i.length)}if(d)a[h]=p,u[h++]=i;else if(_)return[]}}if(f){const r=this;return new Promise((function(i){Promise.all(f).then((function(o){i(r.search(e,t,n,o))}))}))}if(!h)return[];if(i&&(!o||!this.store))return u[0];for(let e,t=0;t<a.length;t++){if(e=u[t],e.length&&o&&(e=apply_enrich.call(this,e)),i)return e;u[t]={field:a[t],result:e}}return u},Document.prototype.contain=function(e){return!!this.register[e]},Document.prototype.get=function(e){return this.store[e]},Document.prototype.set=function(e,t){return this.store[e]=t,this},Document.prototype.searchCache=cache.p,Document.prototype.export=serialize.UE,Document.prototype.import=serialize.b9,(0,module_async.A)(Document.prototype);var n,l,u,t,i,o,r,f,e,c,s,a,h={},p=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function d(e,t){for(var n in t)e[n]=t[n];return e}function w(e){var t=e.parentNode;t&&t.removeChild(e)}function _(e,t,r){var i,o,s,l={};for(s in t)"key"==s?i=t[s]:"ref"==s?o=t[s]:l[s]=t[s];if(arguments.length>2&&(l.children=arguments.length>3?n.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===l[s]&&(l[s]=e.defaultProps[s]);return g(e,l,i,o,null)}function g(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++u:i,__i:-1,__u:0};return null==i&&null!=l.vnode&&l.vnode(o),o}function m(){return{current:null}}function k(e){return e.children}function b(e,t){this.props=e,this.context=t}function x(e,t){if(null==t)return e.__?x(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?x(e):null}function C(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return C(e)}}function M(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!P.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(P)}function P(){var e,t,n,r,o,s,_,c;for(i.sort(f);e=i.shift();)e.__d&&(t=i.length,r=void 0,s=(o=(n=e).__v).__e,_=[],c=[],n.__P&&((r=d({},o)).__v=o.__v+1,l.vnode&&l.vnode(r),O(n.__P,r,o,n.__n,n.__P.namespaceURI,32&o.__u?[s]:null,_,null==s?x(o):s,!!(32&o.__u),c),r.__v=o.__v,r.__.__k[r.__i]=r,j(_,r,c),r.__e!=s&&C(r)),i.length>t&&i.sort(f));P.__r=0}function S(e,t,n,r,i,o,s,l,_,c,u){var a,f,d,m,g,y=r&&r.__k||p,v=t.length;for(n.__d=_,$(n,t,y),_=n.__d,a=0;a<v;a++)null!=(d=n.__k[a])&&"boolean"!=typeof d&&"function"!=typeof d&&(f=-1===d.__i?h:y[d.__i]||h,d.__i=a,O(e,d,f,i,o,s,l,_,c,u),m=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&N(f.ref,null,d),u.push(d.ref,d.__c||m,d)),null==g&&null!=m&&(g=m),65536&d.__u||f.__k===d.__k?_=I(d,_,e):"function"==typeof d.type&&void 0!==d.__d?_=d.__d:m&&(_=m.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=_,n.__e=g}function $(e,t,n){var r,i,o,s,l,_=t.length,c=n.length,u=c,a=0;for(e.__k=[],r=0;r<_;r++)s=r+a,null!=(i=e.__k[r]=null==(i=t[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?g(null,i,null,null,null):y(i)?g(k,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?g(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,l=L(i,n,s,u),i.__i=l,o=null,-1!==l&&(u--,(o=n[l])&&(o.__u|=131072)),null==o||null===o.__v?(-1==l&&a--,"function"!=typeof i.type&&(i.__u|=65536)):l!==s&&(l==s-1?a=l-s:l==s+1?a++:l>s?u>_-s?a+=l-s:a--:l<s&&a++,l!==r+a&&(i.__u|=65536))):(o=n[s])&&null==o.key&&o.__e&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=x(o)),V(o,o,!1),n[s]=null,u--);if(u)for(r=0;r<c;r++)null!=(o=n[r])&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=x(o)),V(o,o))}function I(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=I(r[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=x(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function H(e,t){return t=t||[],null==e||"boolean"==typeof e||(y(e)?e.some((function(e){H(e,t)})):t.push(e)),t}function L(e,t,n,r){var i=e.key,o=e.type,s=n-1,l=n+1,_=t[n];if(null===_||_&&i==_.key&&o===_.type&&!(131072&_.__u))return n;if(r>(null==_||131072&_.__u?0:1))for(;s>=0||l<t.length;){if(s>=0){if((_=t[s])&&!(131072&_.__u)&&i==_.key&&o===_.type)return s;s--}if(l<t.length){if((_=t[l])&&!(131072&_.__u)&&i==_.key&&o===_.type)return l;l++}}return-1}function T(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||v.test(t)?n:n+"px"}function A(t,n,r,i,o){var l;e:if("style"===n)if("string"==typeof r)t.style.cssText=r;else{if("string"==typeof i&&(t.style.cssText=i=""),i)for(n in i)r&&n in r||T(t.style,n,"");if(r)for(n in r)i&&r[n]===i[n]||T(t.style,n,r[n])}else if("o"===n[0]&&"n"===n[1])l=n!==(n=n.replace(/(PointerCapture)$|Capture$/i,"$1")),n=n.toLowerCase()in t||"onFocusOut"===n||"onFocusIn"===n?n.toLowerCase().slice(2):n.slice(2),t.l||(t.l={}),t.l[n+l]=r,r?i?r.u=i.u:(r.u=e,t.addEventListener(n,l?s:c,l)):t.removeEventListener(n,l?s:c,l);else{if("http://www.w3.org/2000/svg"==o)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=n&&"height"!=n&&"href"!=n&&"list"!=n&&"form"!=n&&"tabIndex"!=n&&"download"!=n&&"rowSpan"!=n&&"colSpan"!=n&&"role"!=n&&"popover"!=n&&n in t)try{t[n]=null==r?"":r;break e}catch(t){}"function"==typeof r||(null==r||!1===r&&"-"!==n[4]?t.removeAttribute(n):t.setAttribute(n,"popover"==n&&1==r?"":r))}}function F(t){return function(n){if(this.l){var r=this.l[n.type+t];if(null==n.t)n.t=e++;else if(n.t<r.u)return;return r(l.event?l.event(n):n)}}}function O(e,t,n,r,i,o,s,_,c,u){var a,h,f,p,m,g,v,w,x,P,C,O,M,T,E,R,L=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(c=!!(32&n.__u),o=[_=t.__e=n.__e]),(a=l.__b)&&a(t);e:if("function"==typeof L)try{if(w=t.props,x="prototype"in L&&L.prototype.render,P=(a=L.contextType)&&r[a.__c],C=a?P?P.props.value:a.__:r,n.__c?v=(h=t.__c=n.__c).__=h.__E:(x?t.__c=h=new L(w,C):(t.__c=h=new b(w,C),h.constructor=L,h.render=q),P&&P.sub(h),h.props=w,h.state||(h.state={}),h.context=C,h.__n=r,f=h.__d=!0,h.__h=[],h._sb=[]),x&&null==h.__s&&(h.__s=h.state),x&&null!=L.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,L.getDerivedStateFromProps(w,h.__s))),p=h.props,m=h.state,h.__v=t,f)x&&null==L.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),x&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(x&&null==L.getDerivedStateFromProps&&w!==p&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(w,C),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(w,h.__s,C)||t.__v===n.__v)){for(t.__v!==n.__v&&(h.props=w,h.state=h.__s,h.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),O=0;O<h._sb.length;O++)h.__h.push(h._sb[O]);h._sb=[],h.__h.length&&s.push(h);break e}null!=h.componentWillUpdate&&h.componentWillUpdate(w,h.__s,C),x&&null!=h.componentDidUpdate&&h.__h.push((function(){h.componentDidUpdate(p,m,g)}))}if(h.context=C,h.props=w,h.__P=e,h.__e=!1,M=l.__r,T=0,x){for(h.state=h.__s,h.__d=!1,M&&M(t),a=h.render(h.props,h.state,h.context),E=0;E<h._sb.length;E++)h.__h.push(h._sb[E]);h._sb=[]}else do{h.__d=!1,M&&M(t),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++T<25);h.state=h.__s,null!=h.getChildContext&&(r=d(d({},r),h.getChildContext())),x&&!f&&null!=h.getSnapshotBeforeUpdate&&(g=h.getSnapshotBeforeUpdate(p,m)),S(e,y(R=null!=a&&a.type===k&&null==a.key?a.props.children:a)?R:[R],t,n,r,i,o,s,_,c,u),h.base=t.__e,t.__u&=-161,h.__h.length&&s.push(h),v&&(h.__E=h.__=null)}catch(e){if(t.__v=null,c||null!=o){for(t.__u|=c?160:32;_&&8===_.nodeType&&_.nextSibling;)_=_.nextSibling;o[o.indexOf(_)]=null,t.__e=_}else t.__e=n.__e,t.__k=n.__k;l.__e(e,t,n)}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=z(n.__e,t,n,r,i,o,s,c,u);(a=l.diffed)&&a(t)}function j(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)N(n[r],n[++r],n[++r]);l.__c&&l.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){l.__e(e,t.__v)}}))}function z(e,t,r,i,o,s,l,_,c){var u,a,f,p,d,m,g,v=r.props,k=t.props,b=t.type;if("svg"===b?o="http://www.w3.org/2000/svg":"math"===b?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=s)for(u=0;u<s.length;u++)if((d=s[u])&&"setAttribute"in d==!!b&&(b?d.localName===b:3===d.nodeType)){e=d,s[u]=null;break}if(null==e){if(null===b)return document.createTextNode(k);e=document.createElementNS(o,b,k.is&&k),s=null,_=!1}if(null===b)v===k||_&&e.data===k||(e.data=k);else{if(s=s&&n.call(e.childNodes),v=r.props||h,!_&&null!=s)for(v={},u=0;u<e.attributes.length;u++)v[(d=e.attributes[u]).name]=d.value;for(u in v)if(d=v[u],"children"==u);else if("dangerouslySetInnerHTML"==u)f=d;else if("key"!==u&&!(u in k)){if("value"==u&&"defaultValue"in k||"checked"==u&&"defaultChecked"in k)continue;A(e,u,null,d,o)}for(u in k)d=k[u],"children"==u?p=d:"dangerouslySetInnerHTML"==u?a=d:"value"==u?m=d:"checked"==u?g=d:"key"===u||_&&"function"!=typeof d||v[u]===d||A(e,u,d,v[u],o);if(a)_||f&&(a.__html===f.__html||a.__html===e.innerHTML)||(e.innerHTML=a.__html),t.__k=[];else if(f&&(e.innerHTML=""),S(e,y(p)?p:[p],t,r,i,"foreignObject"===b?"http://www.w3.org/1999/xhtml":o,s,l,s?s[0]:r.__k&&x(r,0),_,c),null!=s)for(u=s.length;u--;)null!=s[u]&&w(s[u]);_||(u="value",void 0!==m&&(m!==e[u]||"progress"===b&&!m||"option"===b&&m!==v[u])&&A(e,u,m,v[u],o),u="checked",void 0!==g&&g!==e[u]&&A(e,u,g,v[u],o))}return e}function N(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){l.__e(e,n)}}function V(e,t,n){var r,i;if(l.unmount&&l.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||N(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){l.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&V(r[i],t,n||"function"!=typeof e.type);n||null==e.__e||w(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function q(e,t,n){return this.constructor(e,n)}function B(e,t,r){var i,o,s,c;l.__&&l.__(e,t),o=(i="function"==typeof r)?null:r&&r.__k||t.__k,s=[],c=[],O(t,e=(!i&&r||t).__k=_(k,null,[e]),o||h,h,t.namespaceURI,!i&&r?[r]:o?null:t.firstChild?n.call(t.childNodes):null,s,!i&&r?r:o?o.__e:t.firstChild,i,c),j(s,e,c)}function D(e,t){B(e,t,D)}function E(e,t,r){var i,o,s,l,_=d({},e.props);for(s in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)"key"==s?i=t[s]:"ref"==s?o=t[s]:_[s]=void 0===t[s]&&void 0!==l?l[s]:t[s];return arguments.length>2&&(_.children=arguments.length>3?n.call(arguments,2):r),g(e.type,_,i||e.key,o||e.ref,null)}function G(e,t){var n={__c:t="__cC"+a++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,M(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}n=p.slice,l={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},u=0,t=function(e){return null!=e&&null==e.constructor},b.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),"function"==typeof e&&(e=e(d({},n),this.props)),e&&d(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),M(this))},b.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),M(this))},b.prototype.render=k,i=[],r="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(e,t){return e.__v.__b-t.__v.__b},P.__r=0,e=0,c=F(!1),s=F(!0),a=0;var _window_searchTranslation=window.searchTranslation,Link_previous=_window_searchTranslation.Link_previous,Link_next=_window_searchTranslation.Link_next,Search_no_results=_window_searchTranslation.Search_no_results,Search_one_character_or_more=_window_searchTranslation.Search_one_character_or_more,Search_one_result=_window_searchTranslation.Search_one_result,Search_results=_window_searchTranslation.Search_results,Search_should_be_x_or_more=_window_searchTranslation.Search_should_be_x_or_more,Search_too_short=_window_searchTranslation.Search_too_short,textLinkPrevious=Link_previous,textLinkNext=Link_next,textSearchNoResults=Search_no_results,textSearchOneCharacterOrMore=Search_one_character_or_more,textSearchOneResult=Search_one_result,textSearchResults=Search_results,textSearchShouldBeXOrMore=Search_should_be_x_or_more,textSearchTooShort=Search_too_short;function Pagination(e){var t,n=function(e){e===c?u.push(_("li",{className:"current"},e+1)):u.push(_("li",null,_("button",{type:"button",className:"SearchResults__footer__link",onClick:function(){return s(e*o.show)}},e+1)))},r=e.counter,i=e.start,o=e.settings,s=e.onPageSelect,l=Math.ceil(r/o.show),c=i/o.show;t=c<=2?Math.min(l,3):Math.min(l,c+2);for(var u=[],a=0;a<t;a++)n(a);return _("div",{className:"SearchResults__footer"},_("ul",{className:"SearchResults__footer__links Pager"},i>0&&_("li",{className:"Pager--prev"},_("button",{type:"button",className:"SearchResults__footer__link",onClick:function(){return s(i-o.show)}},textLinkPrevious)),u,c+1!==l&&_("li",{className:"Pager--next"},_("button",{type:"button",className:"SearchResults__footer__link",onClick:function(){return s(i+o.show)}},textLinkNext))))}function Result(e){var t,n=e.settings,r=e.item;return r.text&&(t=r.text.split(" ").slice(0,n.descriptiveWords).join(" "),r.text.length<t.length&&"."!==t.charAt(t.length-1)&&(t+=" ...")),_("div",{className:"SearchResult"},_("div",{className:"SearchResults__title"},_("a",{href:n.base_url+r.url},r.title)),n.showURL&&_("div",{className:"SearchResults__url"},_("a",{href:n.base_url+r.url},r.url.toLowerCase().replace(/https?:\/\//g,""))),t&&_("div",{className:"SearchResults__text"},t))}function _assert_this_initialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _class_call_check(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _create_class(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _define_property(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _get_prototype_of(e){return _get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_get_prototype_of(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_set_prototype_of(e,t)}function _possible_constructor_return(e,t){return!t||"object"!==_type_of(t)&&"function"!=typeof t?_assert_this_initialized(e):t}function _set_prototype_of(e,t){return _set_prototype_of=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_set_prototype_of(e,t)}function _type_of(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function _is_native_reflect_construct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _create_super(e){var t=_is_native_reflect_construct();return function(){var n,r=_get_prototype_of(e);if(t){var i=_get_prototype_of(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possible_constructor_return(this,n)}}var Search=function(e){_inherits(n,e);var t=_create_super(n);function n(e){var r;return _class_call_check(this,n),_define_property(_assert_this_initialized(r=t.call(this,e)),"handleClose",(function(){r.props.onClose()})),_define_property(_assert_this_initialized(r),"scrollTop",(function(){r.resultRef&&(r.resultRef.scrollTop=0)})),_define_property(_assert_this_initialized(r),"handlePaginate",(function(e){r.setState({start:e},r.scrollTop)})),_define_property(_assert_this_initialized(r),"handleChange",(function(e){r.setState({search:e.target.value,start:0},r.scrollTop),r.props.settings.field.value=e.target.value})),r.state={search:r.props.settings.field.value||"",start:0},r}return _create_class(n,[{key:"getResults",value:function(){var e=this.props.settings,t=this.state.start,n=[],r=0,i=[];if(this.state.search.length<e.minimumLength)return n.push(textSearchTooShort),n.push(1===e.minimumLength?textSearchOneCharacterOrMore:textSearchShouldBeXOrMore.replace("!min",e.minimumLength)),{warnings:n,counter:r,results:i,start:t};var o=Object.values(this.props.onSearch(this.state.search).reduce((function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,s=t.result[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;e.hasOwnProperty(l.id)||(e[l.id]={url:l.id,title:l.doc.title,text:l.doc.text})}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return e}),{}));return 0===(r=o.length)?(n.push(textSearchNoResults),{warnings:n,counter:r,results:i,start:t}):(e.showTitleCount&&this.props.onTitleChange("(".concat(r,")")),{warnings:n,counter:r,results:i=o.filter((function(n,r){return r>=t&&r<e.show+t})),start:t})}},{key:"render",value:function(){var e=this,t=this.props.settings,n=this.getResults(),r=n.warnings,i=n.counter,o=n.results,s=n.start;return _("div",null,_("div",{className:"SearchResultsBackdrop"}),_("div",{className:"SearchResults",ref:function(t){e.resultRef=t}},_("input",{className:"Search__field",placeholder:"Search...",autoComplete:"on",autoSave:"text_search",type:"search",value:this.state.search,onInput:this.handleChange}),_("button",{type:"button",className:"SearchResults__close",onClick:this.handleClose},"×"),_("div",{className:"SearchResults__count"},1===i?textSearchOneResult:textSearchResults.replace("!count",i)),r.map((function(e){return _("div",{key:e,className:"SearchResults__warning"},e)})),o.map((function(e){return _(Result,{key:e.title,item:e,settings:t})})),i>t.show&&_(Pagination,{counter:i,start:s,settings:t,onPageSelect:this.handlePaginate})))}}]),n}(b);function search_class_call_check(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function search_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function search_create_class(e,t,n){return t&&search_defineProperties(e.prototype,t),n&&search_defineProperties(e,n),e}function search_define_property(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _object_spread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){search_define_property(e,t,n[t])}))}return e}var originalTitle=document.title;function getURLP(e){var t=new RegExp("[?|&]".concat(e,"=([^&;]+?)(&|#|;|$)")).exec(window.location.search);return decodeURIComponent(((null==t?void 0:t[1])||"").replace(/\+/g,"%20"))||null}var SearchEngine=function(){function e(t){var n=this;search_class_call_check(this,e),search_define_property(this,"keyUpHandler",(function(e){27===e.which&&n.handleClose()})),search_define_property(this,"handleClose",(function(){document.title=originalTitle,document.removeEventListener("keyup",n.keyUpHandler),document.body.classList.remove("with-search"),B(null,n.resultContainer),n.resultContainer=null})),this.settings=_object_spread({field:document.getElementById("search_input"),form:document.getElementById("search_form"),show:10,showURL:!0,showTitleCount:!0,minimumLength:3,descriptiveWords:25,highlightTerms:!0,highlightEveryTerm:!1,contentLocation:"daux_search_index.js"},t),this.searchIndex={pages:[]}}return search_create_class(e,[{key:"loadData",value:function(){var e=this;if(!this.loadingPromise){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=this.settings.base_url+this.settings.contentLocation;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),this.loadingPromise=new Promise((function(e){window.load_search_index=function(t){return e(t)}})).then((function(t){e.searchIndex=new module_document({doc:{id:"url",tag:"tags",field:["title","text"],store:["title","text"]}});var n=t.pages;if(window.searchLanguage){var r="".concat(window.searchLanguage,"/");n=n.filter((function(e){return 0===e.url.indexOf(r)}))}var i=!0,o=!1,s=void 0;try{for(var l,_=n[Symbol.iterator]();!(i=(l=_.next()).done);i=!0){var c=l.value;e.searchIndex.add(c)}}catch(e){o=!0,s=e}finally{try{i||null==_.return||_.return()}finally{if(o)throw s}}}))}return this.loadingPromise}},{key:"run",value:function(){var e=this;getURLP("q")&&(this.settings.field.value=getURLP("q"),this.loadData().then((function(){e.displaySearch()}))),this.settings.field.addEventListener("keyup",(function(t){e.loadData(),13===Number.parseInt(t.keyCode,10)&&e.loadData().then((function(){e.displaySearch()}))})),this.settings.form.addEventListener("submit",(function(t){t.preventDefault(),e.loadData().then((function(){e.displaySearch()}))}))}},{key:"displaySearch",value:function(){var e=this;this.resultContainer||(this.resultContainer=document.createElement("div"),document.body.appendChild(this.resultContainer)),document.addEventListener("keyup",this.keyUpHandler),B(_(Search,{onSearch:function(t){return e.searchIndex.search(t,{enrich:!0})},onClose:this.handleClose,onTitleChange:function(e){document.title="".concat(e," ").concat(originalTitle)},settings:this.settings}),this.resultContainer),document.body.classList.add("with-search"),document.body.scrollTop=0}}]),e}();function search(e){new SearchEngine(e).run()}window.search=search})();
//# sourceMappingURL=search.min.js.map