{"version":3,"file":"search.min.js","mappings":"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","sources":["webpack://daux.io/./node_modules/flexsearch/dist/module/cache.js","webpack://daux.io/./node_modules/flexsearch/dist/module/common.js","webpack://daux.io/./node_modules/flexsearch/dist/module/async.js","webpack://daux.io/./node_modules/flexsearch/dist/module/lang.js","webpack://daux.io/./node_modules/flexsearch/dist/module/lang/latin/default.js","webpack://daux.io/./node_modules/flexsearch/dist/module/global.js","webpack://daux.io/./node_modules/flexsearch/dist/module/preset.js","webpack://daux.io/./node_modules/flexsearch/dist/module/index.js","webpack://daux.io/./node_modules/flexsearch/dist/module/intersect.js","webpack://daux.io/./node_modules/flexsearch/dist/module/serialize.js","webpack://daux.io/./node_modules/flexsearch/dist/module/worker/index.js","webpack://daux.io/./node_modules/flexsearch/dist/module/type.js","webpack://daux.io/./node_modules/flexsearch/dist/module/worker/handler.js","webpack://daux.io/webpack/bootstrap","webpack://daux.io/webpack/runtime/define property getters","webpack://daux.io/webpack/runtime/hasOwnProperty shorthand","webpack://daux.io/./node_modules/flexsearch/dist/module/document.js","webpack://daux.io/./node_modules/preact/dist/preact.module.js","webpack://daux.io/./src/js/search/translation.js","webpack://daux.io/./src/js/search/Pagination.js","webpack://daux.io/./src/js/search/Result.js","webpack://daux.io/./src/js/search/Search.js","webpack://daux.io/./src/js/search/index.js"],"sourcesContent":["import { IndexInterface, DocumentInterface } from \"./type.js\";\nimport { create_object, is_object } from \"./common.js\";\n\n/**\r\n * @param {boolean|number=} limit\r\n * @constructor\r\n */\n\nfunction CacheClass(limit) {\n\n    /** @private */\n    this.limit = !0 !== limit && limit;\n\n    /** @private */\n    this.cache = create_object();\n\n    /** @private */\n    this.queue = [];\n\n    //this.clear();\n}\n\nexport default CacheClass;\n\n/**\r\n * @param {string|Object} query\r\n * @param {number|Object=} limit\r\n * @param {Object=} options\r\n * @this {IndexInterface}\r\n * @returns {Array<number|string>}\r\n */\n\nexport function searchCache(query, limit, options) {\n\n    if (is_object(query)) {\n\n        query = query.query;\n    }\n\n    let cache = this.cache.get(query);\n\n    if (!cache) {\n\n        cache = this.search(query, limit, options);\n        this.cache.set(query, cache);\n    }\n\n    return cache;\n}\n\n// CacheClass.prototype.clear = function(){\n//\n//     /** @private */\n//     this.cache = create_object();\n//\n//     /** @private */\n//     this.queue = [];\n// };\n\nCacheClass.prototype.set = function (key, value) {\n\n    if (!this.cache[key]) {\n\n        // it is just a shame that native function array.shift() performs so bad\n\n        // const length = this.queue.length;\n        //\n        // this.queue[length] = key;\n        //\n        // if(length === this.limit){\n        //\n        //     delete this.cache[this.queue.shift()];\n        // }\n\n        // the same bad performance\n\n        // this.queue.unshift(key);\n        //\n        // if(this.queue.length === this.limit){\n        //\n        //     this.queue.pop();\n        // }\n\n        // fast implementation variant\n\n        // let length = this.queue.length;\n        //\n        // if(length === this.limit){\n        //\n        //     length--;\n        //\n        //     delete this.cache[this.queue[0]];\n        //\n        //     for(let x = 0; x < length; x++){\n        //\n        //         this.queue[x] = this.queue[x + 1];\n        //     }\n        // }\n        //\n        // this.queue[length] = key;\n\n        // current fastest implementation variant\n        // theoretically that should not perform better compared to the example above\n\n        let length = this.queue.length;\n\n        if (length === this.limit) {\n\n            delete this.cache[this.queue[length - 1]];\n        } else {\n\n            length++;\n        }\n\n        for (let x = length - 1; 0 < x; x--) {\n\n            this.queue[x] = this.queue[x - 1];\n        }\n\n        this.queue[0] = key;\n    }\n\n    this.cache[key] = value;\n};\n\nCacheClass.prototype.get = function (key) {\n\n    const cache = this.cache[key];\n\n    if (this.limit && cache) {\n\n        // probably the indexOf() method performs faster when matched content is on front (left-to-right)\n        // using lastIndexOf() does not help, it performs almost slower\n\n        const pos = this.queue.indexOf(key);\n\n        // if(pos < this.queue.length - 1){\n        //\n        //     const tmp = this.queue[pos];\n        //     this.queue[pos] = this.queue[pos + 1];\n        //     this.queue[pos + 1] = tmp;\n        // }\n\n        if (pos) {\n\n            const tmp = this.queue[pos - 1];\n            this.queue[pos - 1] = this.queue[pos];\n            this.queue[pos] = tmp;\n        }\n    }\n\n    return cache;\n};\n\nCacheClass.prototype.del = function (id) {\n\n    for (let i = 0, item, key; i < this.queue.length; i++) {\n\n        key = this.queue[i];\n        item = this.cache[key];\n\n        if (item.includes(id)) {\n\n            this.queue.splice(i--, 1);\n            delete this.cache[key];\n        }\n    }\n};","export function parse_option(value, default_value) {\n\n    return \"undefined\" != typeof value ? value : default_value;\n}\n\n/**\r\n * @param {!number} count\r\n * @returns {Array<Object>}\r\n */\n\nexport function create_object_array(count) {\n\n    const array = Array(count);\n\n    for (let i = 0; i < count; i++) {\n\n        array[i] = create_object();\n    }\n\n    return array;\n}\n\nexport function create_arrays(count) {\n\n    const array = Array(count);\n\n    for (let i = 0; i < count; i++) {\n\n        array[i] = [];\n    }\n\n    return array;\n}\n\n/**\r\n * @param {!Object} obj\r\n * @returns {Array<string>}\r\n */\n\nexport function get_keys(obj) {\n\n    return Object.keys(obj);\n}\n\nexport function create_object() {\n\n    return Object.create(null);\n}\n\nexport function concat(arrays) {\n\n    return [].concat.apply([], arrays);\n}\n\nexport function sort_by_length_down(a, b) {\n\n    return b.length - a.length;\n}\n\nexport function is_array(val) {\n\n    return val.constructor === Array;\n}\n\nexport function is_string(val) {\n\n    return \"string\" == typeof val;\n}\n\nexport function is_object(val) {\n\n    return \"object\" == typeof val;\n}\n\nexport function is_function(val) {\n\n    return \"function\" == typeof val;\n}","import { IndexInterface, DocumentInterface } from \"./type.js\";\n//import { promise as Promise } from \"./polyfill.js\";\nimport { is_function, is_object, is_string } from \"./common.js\";\n\nexport default function (prototype) {\n\n    register(prototype, \"add\");\n    register(prototype, \"append\");\n    register(prototype, \"search\");\n    register(prototype, \"update\");\n    register(prototype, \"remove\");\n}\n\nfunction register(prototype, key) {\n\n    prototype[key + \"Async\"] = function () {\n\n        /** @type {IndexInterface|DocumentInterface} */\n        const self = this,\n              args = /*[].slice.call*/arguments,\n              arg = args[args.length - 1];\n\n        let callback;\n\n        if (is_function(arg)) {\n\n            callback = arg;\n            delete args[args.length - 1];\n        }\n\n        const promise = new Promise(function (resolve) {\n\n            setTimeout(function () {\n\n                self.async = !0;\n                const res = self[key].apply(self, args);\n                self.async = !1;\n                resolve(res);\n            });\n        });\n\n        if (callback) {\n\n            promise.then(callback);\n            return this;\n        } else {\n\n            return promise;\n        }\n    };\n}","import { IndexInterface } from \"./type.js\";\nimport { create_object, get_keys } from \"./common.js\";\n\n/**\r\n * @param {!string} str\r\n * @param {boolean|Array<string|RegExp>=} normalize\r\n * @param {boolean|string|RegExp=} split\r\n * @param {boolean=} _collapse\r\n * @returns {string|Array<string>}\r\n * @this IndexInterface\r\n */\n\nexport function pipeline(str, normalize, split, _collapse) {\n\n    if (str) {\n\n        if (normalize) {\n\n            str = replace(str, /** @type {Array<string|RegExp>} */normalize);\n        }\n\n        if (this.matcher) {\n\n            str = replace(str, this.matcher);\n        }\n\n        if (this.stemmer && 1 < str.length) {\n\n            str = replace(str, this.stemmer);\n        }\n\n        if (_collapse && 1 < str.length) {\n\n            str = collapse(str);\n        }\n\n        if (split || \"\" === split) {\n\n            const words = str.split( /** @type {string|RegExp} */split);\n\n            return this.filter ? filter(words, this.filter) : words;\n        }\n    }\n\n    return str;\n}\n\n// TODO improve normalize + remove non-delimited chars like in \"I'm\" + split on whitespace+\n\nexport const regex_whitespace = /[\\p{Z}\\p{S}\\p{P}\\p{C}]+/u;\n// https://github.com/nextapps-de/flexsearch/pull/414\n//export const regex_whitespace = /[\\s\\xA0\\u2000-\\u200B\\u2028\\u2029\\u3000\\ufeff!\"#$%&'()*+,\\-./:;<=>?@[\\\\\\]^_`{|}~]/\nconst regex_normalize = /[\\u0300-\\u036f]/g;\n\nexport function normalize(str) {\n\n    if (str.normalize) {\n\n        str = str.normalize(\"NFD\").replace(regex_normalize, \"\");\n    }\n\n    return str;\n}\n\n/**\r\n * @param {!string} str\r\n * @param {boolean|Array<string|RegExp>=} normalize\r\n * @param {boolean|string|RegExp=} split\r\n * @param {boolean=} _collapse\r\n * @returns {string|Array<string>}\r\n */\n\n// FlexSearch.prototype.pipeline = function(str, normalize, split, _collapse){\n//\n//     if(str){\n//\n//         if(normalize && str){\n//\n//             str = replace(str, /** @type {Array<string|RegExp>} */ (normalize));\n//         }\n//\n//         if(str && this.matcher){\n//\n//             str = replace(str, this.matcher);\n//         }\n//\n//         if(this.stemmer && str.length > 1){\n//\n//             str = replace(str, this.stemmer);\n//         }\n//\n//         if(_collapse && str.length > 1){\n//\n//             str = collapse(str);\n//         }\n//\n//         if(str){\n//\n//             if(split || (split === \"\")){\n//\n//                 const words = str.split(/** @type {string|RegExp} */ (split));\n//\n//                 return this.filter ? filter(words, this.filter) : words;\n//             }\n//         }\n//     }\n//\n//     return str;\n// };\n\n// export function pipeline(str, normalize, matcher, stemmer, split, _filter, _collapse){\n//\n//     if(str){\n//\n//         if(normalize && str){\n//\n//             str = replace(str, normalize);\n//         }\n//\n//         if(matcher && str){\n//\n//             str = replace(str, matcher);\n//         }\n//\n//         if(stemmer && str.length > 1){\n//\n//             str = replace(str, stemmer);\n//         }\n//\n//         if(_collapse && str.length > 1){\n//\n//             str = collapse(str);\n//         }\n//\n//         if(str){\n//\n//             if(split !== false){\n//\n//                 str = str.split(split);\n//\n//                 if(_filter){\n//\n//                     str = filter(str, _filter);\n//                 }\n//             }\n//         }\n//     }\n//\n//     return str;\n// }\n\n\n/**\r\n * @param {Array<string>} words\r\n * @returns {Object<string, string>}\r\n */\n\nexport function init_filter(words) {\n\n    const filter = create_object();\n\n    for (let i = 0, length = words.length; i < length; i++) {\n\n        filter[words[i]] = 1;\n    }\n\n    return filter;\n}\n\n/**\r\n * @param {!Object<string, string>} obj\r\n * @param {boolean} is_stemmer\r\n * @returns {Array}\r\n */\n\nexport function init_stemmer_or_matcher(obj, is_stemmer) {\n    const keys = get_keys(obj),\n          length = keys.length,\n          final = [];\n\n\n    let removal = \"\",\n        count = 0;\n\n    for (let i = 0, key, tmp; i < length; i++) {\n\n        key = keys[i];\n        tmp = obj[key];\n\n        if (tmp) {\n\n            final[count++] = regex(is_stemmer ? \"(?!\\\\b)\" + key + \"(\\\\b|_)\" : key);\n            final[count++] = tmp;\n        } else {\n\n            removal += (removal ? \"|\" : \"\") + key;\n        }\n    }\n\n    if (removal) {\n\n        final[count++] = regex(is_stemmer ? \"(?!\\\\b)(\" + removal + \")(\\\\b|_)\" : \"(\" + removal + \")\");\n        final[count] = \"\";\n    }\n\n    return final;\n}\n\n/**\r\n * @param {!string} str\r\n * @param {Array} regexp\r\n * @returns {string}\r\n */\n\nexport function replace(str, regexp) {\n\n    for (let i = 0, len = regexp.length; i < len; i += 2) {\n\n        str = str.replace(regexp[i], regexp[i + 1]);\n\n        if (!str) {\n\n            break;\n        }\n    }\n\n    return str;\n}\n\n/**\r\n * @param {!string} str\r\n * @returns {RegExp}\r\n */\n\nexport function regex(str) {\n\n    return new RegExp(str, \"g\");\n}\n\n/**\r\n * Regex: replace(/(?:(\\w)(?:\\1)*)/g, \"$1\")\r\n * @param {!string} string\r\n * @returns {string}\r\n */\n\nexport function collapse(string) {\n\n    let final = \"\",\n        prev = \"\";\n\n    for (let i = 0, len = string.length, char; i < len; i++) {\n\n        if ((char = string[i]) !== prev) {\n\n            final += prev = char;\n        }\n    }\n\n    return final;\n}\n\n// TODO using fast-swap\nexport function filter(words, map) {\n    const length = words.length,\n          filtered = [];\n\n\n    for (let i = 0, count = 0; i < length; i++) {\n\n        const word = words[i];\n\n        if (word && !map[word]) {\n\n            filtered[count++] = word;\n        }\n    }\n\n    return filtered;\n}\n\n// const chars = {a:1, e:1, i:1, o:1, u:1, y:1};\n//\n// function collapse_repeating_chars(string){\n//\n//     let collapsed_string = \"\",\n//         char_prev = \"\",\n//         char_next = \"\";\n//\n//     for(let i = 0; i < string.length; i++){\n//\n//         const char = string[i];\n//\n//         if(char !== char_prev){\n//\n//             if(i && (char === \"h\")){\n//\n//                 if((chars[char_prev] && chars[char_next]) || (char_prev === \" \")){\n//\n//                     collapsed_string += char;\n//                 }\n//             }\n//             else{\n//\n//                 collapsed_string += char;\n//             }\n//         }\n//\n//         char_next = (\n//\n//             (i === (string.length - 1)) ?\n//\n//                 \"\"\n//             :\n//                 string[i + 1]\n//         );\n//\n//         char_prev = char;\n//     }\n//\n//     return collapsed_string;\n// }","import { IndexInterface } from \"../../type.js\";\nimport { pipeline, normalize, regex_whitespace } from \"../../lang.js\";\n\nexport const rtl = /* normalize: */\n/* collapse: */ /* normalize: */ /* collapse: */ /* normalize: */ /* collapse: */\n/* normalize: */\n/* collapse: */!1;\nexport const tokenize = \"\";\nexport default {\n    encode: encode,\n    rtl: !1,\n    tokenize: \"\"\n\n    /**\r\n     * @param {string|number} str\r\n     * @this IndexInterface\r\n     */\n\n};export function encode(str) {\n\n    return pipeline.call(this,\n    /* string: */(\"\" + str).toLowerCase(), !1, /* split: */regex_whitespace, !1);\n}","export const global_lang = {};\nexport const global_charset = {};\n\n/**\r\n * @param {!string} name\r\n * @param {Object} charset\r\n */\n\nexport function registerCharset(name, charset) {\n\n  global_charset[name] = charset;\n}\n\n/**\r\n * @param {!string} name\r\n * @param {Object} lang\r\n */\n\nexport function registerLanguage(name, lang) {\n\n  global_lang[name] = lang;\n}","\nimport { is_string } from \"./common.js\";\n\n/**\r\n * @enum {Object}\r\n * @const\r\n */\n\nconst preset = {\n\n    memory: {\n        charset: \"latin:extra\",\n        //tokenize: \"strict\",\n        resolution: 3,\n        //threshold: 0,\n        minlength: 4,\n        fastupdate: /* normalize: */ /* collapse: */ /* normalize: */ /* collapse: */ /* normalize: */ /* collapse: */ /* normalize: */\n        /* collapse: */\n        /* collapse: */!1\n    },\n\n    performance: {\n        //charset: \"latin\",\n        //tokenize: \"strict\",\n        resolution: 3,\n        minlength: 3,\n        //fastupdate: true,\n        optimize: !1, //fastupdate: true,\n        context: {\n            depth: 2, resolution: 1\n            //bidirectional: false\n        }\n    },\n\n    match: {\n        charset: \"latin:extra\",\n        tokenize: \"reverse\"\n        //resolution: 9,\n        //threshold: 0\n    },\n\n    score: {\n        charset: \"latin:advanced\",\n        //tokenize: \"strict\",\n        resolution: 20,\n        minlength: 3,\n        context: {\n            depth: 3,\n            resolution: 9\n            //bidirectional: true\n        }\n    },\n\n    default: {\n        // charset: \"latin:default\",\n        // tokenize: \"strict\",\n        // resolution: 3,\n        // threshold: 0,\n        // depth: 3\n    }\n\n    // \"fast\": {\n    //     //charset: \"latin\",\n    //     //tokenize: \"strict\",\n    //     threshold: 8,\n    //     resolution: 9,\n    //     depth: 1\n    // }\n};\n\nexport default function apply_preset(options) {\n\n    if (is_string(options)) {\n\n        options = preset[options];\n    } else {\n\n        const preset = options.preset;\n\n        if (preset) {\n\n            options = Object.assign({}, preset[preset], /** @type {Object} */options);\n        }\n    }\n\n    return options;\n}","/**!\r\n * FlexSearch.js\r\n * Author and Copyright: Thomas Wilkerling\r\n * Licence: Apache-2.0\r\n * Hosted by Nextapps GmbH\r\n * https://github.com/nextapps-de/flexsearch\r\n */\n\nimport { IndexInterface } from \"./type.js\";\nimport { encode as default_encoder } from \"./lang/latin/default.js\";\nimport { create_object, create_object_array, concat, sort_by_length_down, is_array, is_string, is_object, parse_option } from \"./common.js\";\nimport { pipeline, init_stemmer_or_matcher, init_filter } from \"./lang.js\";\nimport { global_lang, global_charset } from \"./global.js\";\nimport apply_async from \"./async.js\";\nimport { intersect } from \"./intersect.js\";\nimport Cache, { searchCache } from \"./cache.js\";\nimport apply_preset from \"./preset.js\";\nimport { exportIndex, importIndex } from \"./serialize.js\";\n\n/**\r\n * @constructor\r\n * @implements IndexInterface\r\n * @param {Object=} options\r\n * @param {Object=} _register\r\n * @return {Index}\r\n */\n\nfunction Index(options, _register) {\n\n    if (!(this instanceof Index)) {\n\n        return new Index(options);\n    }\n\n    let charset, lang, tmp;\n\n    if (options) {\n\n        options = apply_preset(options);\n\n\n        charset = options.charset;\n        lang = options.lang;\n\n        if (is_string(charset)) {\n\n            if (-1 === charset.indexOf(\":\")) {\n\n                charset += \":default\";\n            }\n\n            charset = global_charset[charset];\n        }\n\n        if (is_string(lang)) {\n\n            lang = global_lang[lang];\n        }\n    } else {\n\n        options = {};\n    }\n\n    let resolution,\n        optimize,\n        context = options.context || {};\n\n    this.encode = options.encode || charset && charset.encode || default_encoder;\n    this.register = _register || create_object();\n    this.resolution = resolution = options.resolution || 9;\n    this.tokenize = tmp = charset && charset.tokenize || options.tokenize || \"strict\";\n    this.depth = \"strict\" === tmp && context.depth;\n    this.bidirectional = parse_option(context.bidirectional, /* append: */ /* skip update: */ /* skip_update: */!0);\n    this.optimize = optimize = parse_option(options.optimize, !0);\n    this.fastupdate = parse_option(options.fastupdate, !0);\n    this.minlength = options.minlength || 1;\n    this.boost = options.boost;\n\n    // when not using the memory strategy the score array should not pre-allocated to its full length\n\n    this.map = optimize ? create_object_array(resolution) : create_object();\n    this.resolution_ctx = resolution = context.resolution || 1;\n    this.ctx = optimize ? create_object_array(resolution) : create_object();\n    this.rtl = charset && charset.rtl || options.rtl;\n    this.matcher = (tmp = options.matcher || lang && lang.matcher) && init_stemmer_or_matcher(tmp, !1);\n    this.stemmer = (tmp = options.stemmer || lang && lang.stemmer) && init_stemmer_or_matcher(tmp, !0);\n    this.filter = (tmp = options.filter || lang && lang.filter) && init_filter(tmp);\n\n    this.cache = (tmp = options.cache) && new Cache(tmp);\n}\n\nexport default Index;\n\n//Index.prototype.pipeline = pipeline;\n\n/**\r\n * @param {!number|string} id\r\n * @param {!string} content\r\n */\n\nIndex.prototype.append = function (id, content) {\n\n    return this.add(id, content, !0);\n};\n\n// TODO:\n// string + number as text\n// boolean, null, undefined as ?\n\n/**\r\n * @param {!number|string} id\r\n * @param {!string} content\r\n * @param {boolean=} _append\r\n * @param {boolean=} _skip_update\r\n */\n\nIndex.prototype.add = function (id, content, _append, _skip_update) {\n\n    if (content && (id || 0 === id)) {\n\n        if (!_skip_update && !_append && this.register[id]) {\n\n            return this.update(id, content);\n        }\n\n        content = this.encode(\"\" + content);\n        const length = content.length;\n\n        if (length) {\n\n            // check context dupes to skip all contextual redundancy along a document\n\n            const dupes_ctx = create_object(),\n                  dupes = create_object(),\n                  depth = this.depth,\n                  resolution = this.resolution;\n\n\n            for (let i = 0; i < length; i++) {\n                let term = content[this.rtl ? length - 1 - i : i],\n                    term_length = term.length;\n\n\n                // skip dupes will break the context chain\n\n                if (term && term_length >= this.minlength && (depth || !dupes[term])) {\n                    let score = get_score(resolution, length, i),\n                        token = \"\";\n\n\n                    switch (this.tokenize) {\n\n                        case \"full\":\n\n                            if (2 < term_length) {\n\n                                for (let x = 0; x < term_length; x++) {\n\n                                    for (let y = term_length; y > x; y--) {\n\n                                        if (y - x >= this.minlength) {\n\n                                            const partial_score = get_score(resolution, length, i, term_length, x);\n                                            token = term.substring(x, y);\n                                            this.push_index(dupes, token, partial_score, id, _append);\n                                        }\n                                    }\n                                }\n\n                                break;\n                            }\n\n                        // fallthrough to next case when term length < 3\n\n                        case \"reverse\":\n\n                            // skip last round (this token exist already in \"forward\")\n\n                            if (1 < term_length) {\n\n                                for (let x = term_length - 1; 0 < x; x--) {\n\n                                    token = term[x] + token;\n\n                                    if (token.length >= this.minlength) {\n\n                                        const partial_score = get_score(resolution, length, i, term_length, x);\n                                        this.push_index(dupes, token, partial_score, id, _append);\n                                    }\n                                }\n\n                                token = \"\";\n                            }\n\n                        // fallthrough to next case to apply forward also\n\n                        case \"forward\":\n\n                            if (1 < term_length) {\n\n                                for (let x = 0; x < term_length; x++) {\n\n                                    token += term[x];\n\n                                    if (token.length >= this.minlength) {\n\n                                        this.push_index(dupes, token, score, id, _append);\n                                    }\n                                }\n\n                                break;\n                            }\n\n                        // fallthrough to next case when token has a length of 1\n\n                        default:\n                            // case \"strict\":\n\n                            if (this.boost) {\n\n                                score = Math.min(0 | score / this.boost(content, term, i), resolution - 1);\n                            }\n\n                            this.push_index(dupes, term, score, id, _append);\n\n                            // context is just supported by tokenizer \"strict\"\n\n                            if (depth) {\n\n                                if (1 < length && i < length - 1) {\n\n                                    // check inner dupes to skip repeating words in the current context\n\n                                    const dupes_inner = create_object(),\n                                          resolution = this.resolution_ctx,\n                                          keyword = term,\n                                          size = Math.min(depth + 1, length - i);\n\n\n                                    dupes_inner[keyword] = 1;\n\n                                    for (let x = 1; x < size; x++) {\n\n                                        term = content[this.rtl ? length - 1 - i - x : i + x];\n\n                                        if (term && term.length >= this.minlength && !dupes_inner[term]) {\n\n                                            dupes_inner[term] = 1;\n\n                                            const context_score = get_score(resolution + (length / 2 > resolution ? 0 : 1), length, i, size - 1, x - 1),\n                                                  swap = this.bidirectional && term > keyword;\n\n                                            this.push_index(dupes_ctx, swap ? keyword : term, context_score, id, _append, swap ? term : keyword);\n                                        }\n                                    }\n                                }\n                            }\n                    }\n                }\n            }\n\n            this.fastupdate || (this.register[id] = 1);\n        }\n    }\n\n    return this;\n};\n\n/**\r\n * @param {number} resolution\r\n * @param {number} length\r\n * @param {number} i\r\n * @param {number=} term_length\r\n * @param {number=} x\r\n * @returns {number}\r\n */\n\nfunction get_score(resolution, length, i, term_length, x) {\n\n    // console.log(\"resolution\", resolution);\n    // console.log(\"length\", length);\n    // console.log(\"term_length\", term_length);\n    // console.log(\"i\", i);\n    // console.log(\"x\", x);\n    // console.log((resolution - 1) / (length + (term_length || 0)) * (i + (x || 0)) + 1);\n\n    // the first resolution slot is reserved for the best match,\n    // when a query matches the first word(s).\n\n    // also to stretch score to the whole range of resolution, the\n    // calculation is shift by one and cut the floating point.\n    // this needs the resolution \"1\" to be handled additionally.\n\n    // do not stretch the resolution more than the term length will\n    // improve performance and memory, also it improves scoring in\n    // most cases between a short document and a long document\n\n    return i && 1 < resolution ? length + (term_length || 0) <= resolution ? i + (x || 0) : 0 | (resolution - 1) / (length + (term_length || 0)) * (i + (x || 0)) + 1 : 0;\n}\n\n/**\r\n * @private\r\n * @param dupes\r\n * @param value\r\n * @param score\r\n * @param id\r\n * @param {boolean=} append\r\n * @param {string=} keyword\r\n */\n\nIndex.prototype.push_index = function (dupes, value, score, id, append, keyword) {\n\n    let arr = keyword ? this.ctx : this.map;\n\n    if (!dupes[value] || keyword && !dupes[value][keyword]) {\n\n        if (this.optimize) {\n\n            arr = arr[score];\n        }\n\n        if (keyword) {\n\n            dupes = dupes[value] || (dupes[value] = create_object());\n            dupes[keyword] = 1;\n\n            arr = arr[keyword] || (arr[keyword] = create_object());\n        } else {\n\n            dupes[value] = 1;\n        }\n\n        arr = arr[value] || (arr[value] = []);\n\n        if (!this.optimize) {\n\n            arr = arr[score] || (arr[score] = []);\n        }\n\n        if (!append || !arr.includes(id)) {\n\n            arr[arr.length] = id;\n\n            // add a reference to the register for fast updates\n\n            if (this.fastupdate) {\n\n                const tmp = this.register[id] || (this.register[id] = []);\n                tmp[tmp.length] = arr;\n            }\n        }\n    }\n};\n\n/**\r\n * @param {string|Object} query\r\n * @param {number|Object=} limit\r\n * @param {Object=} options\r\n * @returns {Array<number|string>}\r\n */\n\nIndex.prototype.search = function (query, limit, options) {\n\n    if (!options) {\n\n        if (!limit && is_object(query)) {\n\n            options = /** @type {Object} */query;\n            query = options.query;\n        } else if (is_object(limit)) {\n\n            options = /** @type {Object} */limit;\n        }\n    }\n\n    let result = [],\n        length,\n        context,\n        suggest,\n        offset = 0;\n\n\n    if (options) {\n\n        query = options.query || query;\n        limit = options.limit;\n        offset = options.offset || 0;\n        context = options.context;\n        suggest = options.suggest;\n    }\n\n    if (query) {\n\n        query = /** @type {Array} */this.encode(\"\" + query);\n        length = query.length;\n\n        // TODO: solve this in one single loop below\n\n        if (1 < length) {\n            const dupes = create_object(),\n                  query_new = [];\n\n\n            for (let i = 0, count = 0, term; i < length; i++) {\n\n                term = query[i];\n\n                if (term && term.length >= this.minlength && !dupes[term]) {\n\n                    // this fast path can just apply when not in memory-optimized mode\n\n                    if (!this.optimize && !suggest && !this.map[term]) {\n\n                        // fast path \"not found\"\n\n                        return result;\n                    } else {\n\n                        query_new[count++] = term;\n                        dupes[term] = 1;\n                    }\n                }\n            }\n\n            query = query_new;\n            length = query.length;\n        }\n    }\n\n    if (!length) {\n\n        return result;\n    }\n\n    limit || (limit = 100);\n\n    let depth = this.depth && 1 < length && !1 !== context,\n        index = 0,\n        keyword;\n\n\n    if (depth) {\n\n        keyword = query[0];\n        index = 1;\n    } else {\n\n        if (1 < length) {\n\n            query.sort(sort_by_length_down);\n        }\n    }\n\n    for (let arr, term; index < length; index++) {\n\n        term = query[index];\n\n        // console.log(keyword);\n        // console.log(term);\n        // console.log(\"\");\n\n        if (depth) {\n\n            arr = this.add_result(result, suggest, limit, offset, 2 === length, term, keyword);\n\n            // console.log(arr);\n            // console.log(result);\n\n            // when suggestion enabled just forward keyword if term was found\n            // as long as the result is empty forward the pointer also\n\n            if (!suggest || !1 !== arr || !result.length) {\n\n                keyword = term;\n            }\n        } else {\n\n            arr = this.add_result(result, suggest, limit, offset, 1 === length, term);\n        }\n\n        if (arr) {\n\n            return (/** @type {Array<number|string>} */arr\n            );\n        }\n\n        // apply suggestions on last loop or fallback\n\n        if (suggest && index == length - 1) {\n\n            let length = result.length;\n\n            if (!length) {\n\n                if (depth) {\n\n                    // fallback to non-contextual search when no result was found\n\n                    depth = 0;\n                    index = -1;\n\n                    continue;\n                }\n\n                return result;\n            } else if (1 === length) {\n\n                // fast path optimization\n\n                return single_result(result[0], limit, offset);\n            }\n        }\n    }\n\n    return intersect(result, limit, offset, suggest);\n};\n\n/**\r\n * Returns an array when the result is done (to stop the process immediately),\r\n * returns false when suggestions is enabled and no result was found,\r\n * or returns nothing when a set was pushed successfully to the results\r\n *\r\n * @private\r\n * @param {Array} result\r\n * @param {Array} suggest\r\n * @param {number} limit\r\n * @param {number} offset\r\n * @param {boolean} single_term\r\n * @param {string} term\r\n * @param {string=} keyword\r\n * @return {Array<Array<string|number>>|boolean|undefined}\r\n */\n\nIndex.prototype.add_result = function (result, suggest, limit, offset, single_term, term, keyword) {\n    let word_arr = [],\n        arr = keyword ? this.ctx : this.map;\n\n\n    if (!this.optimize) {\n\n        arr = get_array(arr, term, keyword, this.bidirectional);\n    }\n\n    if (arr) {\n\n        let count = 0;\n        const arr_len = Math.min(arr.length, keyword ? this.resolution_ctx : this.resolution);\n\n        // relevance:\n        for (let x = 0, size = 0, tmp, len; x < arr_len; x++) {\n\n            tmp = arr[x];\n\n            if (tmp) {\n\n                if (this.optimize) {\n\n                    tmp = get_array(tmp, term, keyword, this.bidirectional);\n                }\n\n                if (offset) {\n\n                    if (tmp && single_term) {\n\n                        len = tmp.length;\n\n                        if (len <= offset) {\n\n                            offset -= len;\n                            tmp = null;\n                        } else {\n\n                            tmp = tmp.slice(offset);\n                            offset = 0;\n                        }\n                    }\n                }\n\n                if (tmp) {\n\n                    // keep score (sparse array):\n                    //word_arr[x] = tmp;\n\n                    // simplified score order:\n                    word_arr[count++] = tmp;\n\n                    if (single_term) {\n\n                        size += tmp.length;\n\n                        if (size >= limit) {\n\n                            // fast path optimization\n\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        if (count) {\n\n            if (single_term) {\n\n                // fast path optimization\n                // offset was already applied at this point\n\n                return single_result(word_arr, limit, 0);\n            }\n\n            result[result.length] = word_arr;\n            return;\n        }\n    }\n\n    // return an empty array will stop the loop,\n    // to prevent stop when using suggestions return a false value\n\n    return !suggest && word_arr;\n};\n\nfunction single_result(result, limit, offset) {\n\n    if (1 === result.length) {\n\n        result = result[0];\n    } else {\n\n        result = concat(result);\n    }\n\n    return offset || result.length > limit ? result.slice(offset, offset + limit) : result;\n}\n\nfunction get_array(arr, term, keyword, bidirectional) {\n\n    if (keyword) {\n\n        // the frequency of the starting letter is slightly less\n        // on the last half of the alphabet (m-z) in almost every latin language,\n        // so we sort downwards (https://en.wikipedia.org/wiki/Letter_frequency)\n\n        const swap = bidirectional && term > keyword;\n\n        arr = arr[swap ? term : keyword];\n        arr = arr && arr[swap ? keyword : term];\n    } else {\n\n        arr = arr[term];\n    }\n\n    return arr;\n}\n\nIndex.prototype.contain = function (id) {\n\n    return !!this.register[id];\n};\n\nIndex.prototype.update = function (id, content) {\n\n    return this.remove(id).add(id, content);\n};\n\n/**\r\n * @param {boolean=} _skip_deletion\r\n */\n\nIndex.prototype.remove = function (id, _skip_deletion) {\n\n    const refs = this.register[id];\n\n    if (refs) {\n\n        if (this.fastupdate) {\n\n            // fast updates performs really fast but did not fully cleanup the key entries\n\n            for (let i = 0, tmp; i < refs.length; i++) {\n\n                tmp = refs[i];\n                tmp.splice(tmp.indexOf(id), 1);\n            }\n        } else {\n\n            remove_index(this.map, id, this.resolution, this.optimize);\n\n            if (this.depth) {\n\n                remove_index(this.ctx, id, this.resolution_ctx, this.optimize);\n            }\n        }\n\n        _skip_deletion || delete this.register[id];\n\n        if (this.cache) {\n\n            this.cache.del(id);\n        }\n    }\n\n    return this;\n};\n\n/**\r\n * @param map\r\n * @param id\r\n * @param res\r\n * @param optimize\r\n * @param {number=} resolution\r\n * @return {number}\r\n */\n\nfunction remove_index(map, id, res, optimize, resolution) {\n\n    let count = 0;\n\n    if (is_array(map)) {\n\n        // the first array is the score array in both strategies\n\n        if (!resolution) {\n\n            resolution = Math.min(map.length, res);\n\n            for (let x = 0, arr; x < resolution; x++) {\n\n                arr = map[x];\n\n                if (arr) {\n\n                    count = remove_index(arr, id, res, optimize, resolution);\n\n                    if (!optimize && !count) {\n\n                        // when not memory optimized the score index should removed\n\n                        delete map[x];\n                    }\n                }\n            }\n        } else {\n\n            const pos = map.indexOf(id);\n\n            if (-1 !== pos) {\n\n                // fast path, when length is 1 or lower then the whole field gets deleted\n\n                if (1 < map.length) {\n\n                    map.splice(pos, 1);\n                    count++;\n                }\n            } else {\n\n                count++;\n            }\n        }\n    } else {\n\n        for (let key in map) {\n\n            count = remove_index(map[key], id, res, optimize, resolution);\n\n            if (!count) {\n\n                delete map[key];\n            }\n        }\n    }\n\n    return count;\n}\n\nIndex.prototype.searchCache = searchCache;\n\n\nIndex.prototype.export = exportIndex;\nIndex.prototype.import = importIndex;\n\n\napply_async(Index.prototype);","import { create_object, concat } from \"./common.js\";\n\n/**\r\n * Implementation based on Array.includes() provides better performance,\r\n * but it needs at least one word in the query which is less frequent.\r\n * Also on large indexes it does not scale well performance-wise.\r\n * This strategy also lacks of suggestion capabilities (matching & sorting).\r\n *\r\n * @param arrays\r\n * @param limit\r\n * @param offset\r\n * @param {boolean|Array=} suggest\r\n * @returns {Array}\r\n */\n\n// export function intersect(arrays, limit, offset, suggest) {\n//\n//     const length = arrays.length;\n//     let result = [];\n//     let check;\n//\n//     // determine shortest array and collect results\n//     // from the sparse relevance arrays\n//\n//     let smallest_size;\n//     let smallest_arr;\n//     let smallest_index;\n//\n//     for(let x = 0; x < length; x++){\n//\n//         const arr = arrays[x];\n//         const len = arr.length;\n//\n//         let size = 0;\n//\n//         for(let y = 0, tmp; y < len; y++){\n//\n//             tmp = arr[y];\n//\n//             if(tmp){\n//\n//                 size += tmp.length;\n//             }\n//         }\n//\n//         if(!smallest_size || (size < smallest_size)){\n//\n//             smallest_size = size;\n//             smallest_arr = arr;\n//             smallest_index = x;\n//         }\n//     }\n//\n//     smallest_arr = smallest_arr.length === 1 ?\n//\n//         smallest_arr[0]\n//     :\n//         concat(smallest_arr);\n//\n//     if(suggest){\n//\n//         suggest = [smallest_arr];\n//         check = create_object();\n//     }\n//\n//     let size = 0;\n//     let steps = 0;\n//\n//     // process terms in reversed order often results in better performance.\n//     // the outer loop must be the words array, using the\n//     // smallest array here disables the \"fast fail\" optimization.\n//\n//     for(let x = length - 1; x >= 0; x--){\n//\n//         if(x !== smallest_index){\n//\n//             steps++;\n//\n//             const word_arr = arrays[x];\n//             const word_arr_len = word_arr.length;\n//             const new_arr = [];\n//\n//             let count = 0;\n//\n//             for(let z = 0, id; z < smallest_arr.length; z++){\n//\n//                 id = smallest_arr[z];\n//\n//                 let found;\n//\n//                 // process relevance in forward order (direction is\n//                 // important for adding IDs during the last round)\n//\n//                 for(let y = 0; y < word_arr_len; y++){\n//\n//                     const arr = word_arr[y];\n//\n//                     if(arr.length){\n//\n//                         found = arr.includes(id);\n//\n//                         if(found){\n//\n//                             // check if in last round\n//\n//                             if(steps === length - 1){\n//\n//                                 if(offset){\n//\n//                                     offset--;\n//                                 }\n//                                 else{\n//\n//                                     result[size++] = id;\n//\n//                                     if(size === limit){\n//\n//                                         // fast path \"end reached\"\n//\n//                                         return result;\n//                                     }\n//                                 }\n//\n//                                 if(suggest){\n//\n//                                     check[id] = 1;\n//                                 }\n//                             }\n//\n//                             break;\n//                         }\n//                     }\n//                 }\n//\n//                 if(found){\n//\n//                     new_arr[count++] = id;\n//                 }\n//             }\n//\n//             if(suggest){\n//\n//                 suggest[steps] = new_arr;\n//             }\n//             else if(!count){\n//\n//                 return [];\n//             }\n//\n//             smallest_arr = new_arr;\n//         }\n//     }\n//\n//     if(suggest){\n//\n//         // needs to iterate in reverse direction\n//\n//         for(let x = suggest.length - 1, arr, len; x >= 0; x--){\n//\n//             arr = suggest[x];\n//             len = arr && arr.length;\n//\n//             if(len){\n//\n//                 for(let y = 0, id; y < len; y++){\n//\n//                     id = arr[y];\n//\n//                     if(!check[id]){\n//\n//                         check[id] = 1;\n//\n//                         if(offset){\n//\n//                             offset--;\n//                         }\n//                         else{\n//\n//                             result[size++] = id;\n//\n//                             if(size === limit){\n//\n//                                 // fast path \"end reached\"\n//\n//                                 return result;\n//                             }\n//                         }\n//                     }\n//                 }\n//             }\n//         }\n//     }\n//\n//     return result;\n// }\n\n/**\r\n * Implementation based on Object[key] provides better suggestions\r\n * capabilities and has less performance scaling issues on large indexes.\r\n *\r\n * @param arrays\r\n * @param limit\r\n * @param offset\r\n * @param {boolean|Array=} suggest\r\n * @returns {Array}\r\n */\n\nexport function intersect(arrays, limit, offset, suggest) {\n\n    const length = arrays.length;\n    let result = [],\n        check,\n        check_suggest,\n        size = 0;\n\n\n    if (suggest) {\n\n        suggest = [];\n    }\n\n    // process terms in reversed order often has advantage for the fast path \"end reached\".\n    // also a reversed order prioritize the order of words from a query.\n\n    for (let x = length - 1; 0 <= x; x--) {\n        const word_arr = arrays[x],\n              word_arr_len = word_arr.length,\n              check_new = create_object();\n\n\n        let found = !check;\n\n        // process relevance in forward order (direction is\n        // important for adding IDs during the last round)\n\n        for (let y = 0; y < word_arr_len; y++) {\n            const arr = word_arr[y],\n                  arr_len = arr.length;\n\n\n            if (arr_len) {\n\n                // loop through IDs\n\n                for (let z = 0, check_idx, id; z < arr_len; z++) {\n\n                    id = arr[z];\n\n                    if (check) {\n\n                        if (check[id]) {\n\n                            // check if in last round\n\n                            if (!x) {\n\n                                if (offset) {\n\n                                    offset--;\n                                } else {\n\n                                    result[size++] = id;\n\n                                    if (size === limit) {\n\n                                        // fast path \"end reached\"\n\n                                        return result;\n                                    }\n                                }\n                            }\n\n                            if (x || suggest) {\n\n                                check_new[id] = 1;\n                            }\n\n                            found = /* append: */ /* skip update: */ /* skip_update: */!0;\n                        }\n\n                        if (suggest) {\n\n                            check_idx = (check_suggest[id] || 0) + 1;\n                            check_suggest[id] = check_idx;\n\n                            // do not adding IDs which are already included in the result (saves one loop)\n                            // the first intersection match has the check index 2, so shift by -2\n\n                            if (check_idx < length) {\n\n                                const tmp = suggest[check_idx - 2] || (suggest[check_idx - 2] = []);\n                                tmp[tmp.length] = id;\n                            }\n                        }\n                    } else {\n\n                        // pre-fill in first round\n\n                        check_new[id] = 1;\n                    }\n                }\n            }\n        }\n\n        if (suggest) {\n\n            // re-use the first pre-filled check for suggestions\n\n            check || (check_suggest = check_new);\n        } else if (!found) {\n\n            return [];\n        }\n\n        check = check_new;\n    }\n\n    if (suggest) {\n\n        // needs to iterate in reverse direction\n\n        for (let x = suggest.length - 1, arr, len; 0 <= x; x--) {\n\n            arr = suggest[x];\n            len = arr.length;\n\n            for (let y = 0, id; y < len; y++) {\n\n                id = arr[y];\n\n                if (!check[id]) {\n\n                    if (offset) {\n\n                        offset--;\n                    } else {\n\n                        result[size++] = id;\n\n                        if (size === limit) {\n\n                            // fast path \"end reached\"\n\n                            return result;\n                        }\n                    }\n\n                    check[id] = 1;\n                }\n            }\n        }\n    }\n\n    return result;\n}\n\n/**\r\n * @param mandatory\r\n * @param arrays\r\n * @returns {Array}\r\n */\n\nexport function intersect_union(mandatory, arrays) {\n    const check = create_object(),\n          union = create_object(),\n          result = [];\n\n\n    for (let x = 0; x < mandatory.length; x++) {\n\n        check[mandatory[x]] = 1;\n    }\n\n    for (let x = 0, arr; x < arrays.length; x++) {\n\n        arr = arrays[x];\n\n        for (let y = 0, id; y < arr.length; y++) {\n\n            id = arr[y];\n\n            if (check[id]) {\n\n                if (!union[id]) {\n\n                    union[id] = 1;\n                    result[result.length] = id;\n                }\n            }\n        }\n    }\n\n    return result;\n}","// TODO return promises instead of inner await\n\nimport { IndexInterface, DocumentInterface } from \"./type.js\";\nimport { create_object, is_string } from \"./common.js\";\n\nfunction async(callback, self, field, key, index_doc, index, data, on_done) {\n\n    setTimeout(function () {\n\n        const res = callback(field ? field + \".\" + key : key, JSON.stringify(data));\n\n        // await isn't supported by ES5\n\n        if (res && res.then) {\n\n            res.then(function () {\n\n                self.export(callback, self, field, index_doc, index + 1, on_done);\n            });\n        } else {\n\n            self.export(callback, self, field, index_doc, index + 1, on_done);\n        }\n    });\n}\n\n/**\r\n * @this IndexInterface\r\n */\n\nexport function exportIndex(callback, self, field, index_doc, index, on_done) {\n\n    let return_value = /* append: */ /* skip update: */ /* skip_update: */ /* skip post-processing: */!0;\n    if ('undefined' == typeof on_done) {\n        return_value = new Promise(resolve => {\n            on_done = resolve;\n        });\n    }\n\n    let key, data;\n\n    switch (index || (index = 0)) {\n\n        case 0:\n\n            key = \"reg\";\n\n            // fastupdate isn't supported by export\n\n            if (this.fastupdate) {\n\n                data = create_object();\n\n                for (let key in this.register) {\n\n                    data[key] = 1;\n                }\n            } else {\n\n                data = this.register;\n            }\n\n            break;\n\n        case 1:\n\n            key = \"cfg\";\n            data = {\n                doc: 0,\n                opt: this.optimize ? 1 : 0\n            };\n\n            break;\n\n        case 2:\n\n            key = \"map\";\n            data = this.map;\n            break;\n\n        case 3:\n\n            key = \"ctx\";\n            data = this.ctx;\n            break;\n\n        default:\n\n            if ('undefined' == typeof field && on_done) {\n\n                on_done();\n            }\n\n            return;\n    }\n\n    async(callback, self || this, field, key, index_doc, index, data, on_done);\n\n    return return_value;\n}\n\n/**\r\n * @this IndexInterface\r\n */\n\nexport function importIndex(key, data) {\n\n    if (!data) {\n\n        return;\n    }\n\n    if (is_string(data)) {\n\n        data = JSON.parse(data);\n    }\n\n    switch (key) {\n\n        case \"cfg\":\n\n            this.optimize = !!data.opt;\n            break;\n\n        case \"reg\":\n\n            // fastupdate isn't supported by import\n\n            this.fastupdate = /* normalize: */ /* collapse: */ /* normalize: */ /* collapse: */ /* normalize: */ /* collapse: */ /* normalize: */ /* collapse: */ /* collapse: */!1;\n            this.register = data;\n            break;\n\n        case \"map\":\n\n            this.map = data;\n            break;\n\n        case \"ctx\":\n\n            this.ctx = data;\n            break;\n    }\n}\n\n/**\r\n * @this DocumentInterface\r\n */\n\nexport function exportDocument(callback, self, field, index_doc, index, on_done) {\n\n    let return_value;\n    if ('undefined' == typeof on_done) {\n        return_value = new Promise(resolve => {\n            on_done = resolve;\n        });\n    }\n\n    index || (index = 0);\n    index_doc || (index_doc = 0);\n\n    if (index_doc < this.field.length) {\n        const field = this.field[index_doc],\n              idx = this.index[field];\n\n\n        self = this;\n\n        setTimeout(function () {\n\n            if (!idx.export(callback, self, index ? field /*.replace(\":\", \"-\")*/ : \"\", index_doc, index++, on_done)) {\n\n                index_doc++;\n                index = 1;\n\n                self.export(callback, self, field, index_doc, index, on_done);\n            }\n        });\n    } else {\n\n        let key, data;\n\n        switch (index) {\n\n            case 1:\n\n                key = \"tag\";\n                data = this.tagindex;\n                field = null;\n                break;\n\n            case 2:\n\n                key = \"store\";\n                data = this.store;\n                field = null;\n                break;\n\n            // case 3:\n            //\n            //     key = \"reg\";\n            //     data = this.register;\n            //     break;\n\n            default:\n\n                on_done();\n                return;\n        }\n\n        async(callback, this, field, key, index_doc, index, data, on_done);\n    }\n\n    return return_value;\n}\n\n/**\r\n * @this DocumentInterface\r\n */\n\nexport function importDocument(key, data) {\n\n    if (!data) {\n\n        return;\n    }\n\n    if (is_string(data)) {\n\n        data = JSON.parse(data);\n    }\n\n    switch (key) {\n\n        case \"tag\":\n\n            this.tagindex = data;\n            break;\n\n        case \"reg\":\n\n            // fastupdate isn't supported by import\n\n            this.fastupdate = !1;\n            this.register = data;\n\n            for (let i = 0, index; i < this.field.length; i++) {\n\n                index = this.index[this.field[i]];\n                index.register = data;\n                index.fastupdate = !1;\n            }\n\n            break;\n\n        case \"store\":\n\n            this.store = data;\n            break;\n\n        default:\n\n            key = key.split(\".\");\n            const field = key[0];\n            key = key[1];\n\n            if (field && key) {\n\n                this.index[field].import(key, data);\n            }\n    }\n}","//import { promise as Promise } from \"../polyfill.js\";\nimport { create_object, is_function, is_object, is_string } from \"../common.js\";\nimport handler from \"./handler.js\";\n\nlet pid = 0;\n\n/**\r\n * @param {Object=} options\r\n * @constructor\r\n */\n\nfunction WorkerIndex(options) {\n\n    if (!(this instanceof WorkerIndex)) {\n\n        return new WorkerIndex(options);\n    }\n\n    let opt;\n\n    if (options) {\n\n        if (is_function(opt = options.encode)) {\n\n            options.encode = opt.toString();\n        }\n    } else {\n\n        options = {};\n    }\n\n    // the factory is the outer wrapper from the build\n    // we use \"self\" as a trap for node.js\n\n    let factory = (self || window)._factory;\n\n    if (factory) {\n\n        factory = factory.toString();\n    }\n\n    const is_node_js = \"undefined\" == typeof window && self.exports,\n          _self = this;\n\n    this.worker = create(factory, is_node_js, options.worker);\n    this.resolver = create_object();\n\n    if (!this.worker) {\n\n        return;\n    }\n\n    if (is_node_js) {\n\n        this.worker.on(\"message\", function (msg) {\n\n            _self.resolver[msg.id](msg.msg);\n            delete _self.resolver[msg.id];\n        });\n    } else {\n\n        this.worker.onmessage = function (msg) {\n\n            msg = msg.data;\n            _self.resolver[msg.id](msg.msg);\n            delete _self.resolver[msg.id];\n        };\n    }\n\n    this.worker.postMessage({\n\n        task: \"init\",\n        factory: factory,\n        options: options\n    });\n}\n\nexport default WorkerIndex;\n\nregister(\"add\");\nregister(\"append\");\nregister(\"search\");\nregister(\"update\");\nregister(\"remove\");\n\nfunction register(key) {\n\n    WorkerIndex.prototype[key] = WorkerIndex.prototype[key + \"Async\"] = function () {\n        const self = this,\n              args = [].slice.call(arguments),\n              arg = args[args.length - 1];\n\n        let callback;\n\n        if (is_function(arg)) {\n\n            callback = arg;\n            args.splice(args.length - 1, 1);\n        }\n\n        const promise = new Promise(function (resolve) {\n\n            setTimeout(function () {\n\n                self.resolver[++pid] = resolve;\n                self.worker.postMessage({\n\n                    task: key,\n                    id: pid,\n                    args: args\n                });\n            });\n        });\n\n        if (callback) {\n\n            promise.then(callback);\n            return this;\n        } else {\n\n            return promise;\n        }\n    };\n}\n\nfunction create(factory, is_node_js, worker_path) {\n\n    let worker;\n\n    try {\n\n        worker = is_node_js ? eval('new (require(\"worker_threads\")[\"Worker\"])(__dirname + \"/node/node.js\")') : factory ? new Worker(URL.createObjectURL(new Blob([\"onmessage=\" + handler.toString()], { type: \"text/javascript\" }))) : new Worker(is_string(worker_path) ? worker_path : \"worker/worker.js\", { type: \"module\" });\n    } catch (e) {}\n\n    return worker;\n}","/**\r\n * @interface\r\n */\n\nexport function IndexInterface() {\n\n  this.cache = null;\n  this.matcher = null;\n  this.stemmer = null;\n  this.filter = null;\n}\n\n/**\r\n * @param {!string} str\r\n * @param {boolean|Array<string|RegExp>=} normalize\r\n * @param {boolean|string|RegExp=} split\r\n * @param {boolean=} collapse\r\n * @returns {string|Array<string>}\r\n */\n\n//IndexInterface.prototype.pipeline;\n\n/**\r\n * @param {!number|string} id\r\n * @param {!string} content\r\n */\n\nIndexInterface.prototype.add;\n\n/**\r\n * @param {!number|string} id\r\n * @param {!string} content\r\n */\n\nIndexInterface.prototype.append;\n\n/**\r\n * @param {!string|Object} query\r\n * @param {number|Object=} limit\r\n * @param {Object=} options\r\n * @returns {Array<number|string>}\r\n */\n\nIndexInterface.prototype.search;\n\n/**\r\n * @param {!number|string} id\r\n * @param {!string} content\r\n */\n\nIndexInterface.prototype.update;\n\n/**\r\n * @param {!number|string} id\r\n */\n\nIndexInterface.prototype.remove;\n\n/**\r\n * @interface\r\n */\n\nexport function DocumentInterface() {\n\n  this.field = null;\n\n  /** @type IndexInterface */\n  this.index = null;\n}","import Index from \"../index.js\";\n\nexport default function (data) {\n\n            data = data.data;\n\n            /** @type Index */\n            const index = self._index,\n                  args = data.args,\n                  task = data.task;\n\n\n            switch (task) {\n\n                        case \"init\":\n                                    const options = data.options || {},\n                                          factory = data.factory,\n                                          encode = options.encode;\n\n\n                                    options.cache = /* normalize: */ /* collapse: */ /* normalize: */\n\n                                    /* collapse: */ /* normalize: */ /* collapse: */ /* normalize: */ /* collapse: */ /* collapse: */!1;\n\n                                    if (encode && 0 === encode.indexOf(\"function\")) {\n                                                options.encode = Function(\"return \" + encode)();\n                                    }\n\n                                    if (factory) {\n\n                                                // export the FlexSearch global payload to \"self\"\n                                                Function(\"return \" + factory)()(self);\n\n                                                /** @type Index */\n                                                self._index = new self.FlexSearch.Index(options);\n\n                                                // destroy the exported payload\n                                                delete self.FlexSearch;\n                                    } else {\n\n                                                self._index = new Index(options);\n                                    }\n\n                                    break;\n\n                        default:\n                                    const id = data.id,\n                                          message = index[task].apply(index, args);\n\n                                    postMessage(\"search\" === task ? { id: id, msg: message } : { id: id });\n            }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**!\r\n * FlexSearch.js\r\n * Author and Copyright: Thomas Wilkerling\r\n * Licence: Apache-2.0\r\n * Hosted by Nextapps GmbH\r\n * https://github.com/nextapps-de/flexsearch\r\n */\n\nimport Index from \"./index.js\";\nimport { DocumentInterface } from \"./type.js\";\nimport Cache, { searchCache } from \"./cache.js\";\nimport { create_object, is_array, is_string, is_object, parse_option, get_keys } from \"./common.js\";\nimport apply_async from \"./async.js\";\nimport { intersect, intersect_union } from \"./intersect.js\";\nimport { exportDocument, importDocument } from \"./serialize.js\";\nimport WorkerIndex from \"./worker/index.js\";\n\n/**\r\n * @constructor\r\n * @implements {DocumentInterface}\r\n * @param {Object=} options\r\n * @return {Document}\r\n */\n\nfunction Document(options) {\n\n    if (!(this instanceof Document)) {\n\n        return new Document(options);\n    }\n\n    const document = options.document || options.doc || options;\n    let opt;\n\n    this.tree = [];\n    this.field = [];\n    this.marker = [];\n    this.register = create_object();\n    this.key = (opt = document.key || document.id) && parse_tree(opt, this.marker) || \"id\";\n    this.fastupdate = parse_option(options.fastupdate, /* append: */ /* skip update: */ /* skip_update: */!0);\n\n    this.storetree = (opt = document.store) && !0 !== opt && [];\n    this.store = opt && create_object();\n\n\n    // TODO case-insensitive tags\n\n    this.tag = (opt = document.tag) && parse_tree(opt, this.marker);\n    this.tagindex = opt && create_object();\n\n\n    this.cache = (opt = options.cache) && new Cache(opt);\n\n    // do not apply cache again for the indexes\n\n    options.cache = !1;\n\n\n    this.worker = options.worker;\n\n\n    // this switch is used by recall of promise callbacks\n\n    this.async = !1;\n\n    /** @export */\n    this.index = parse_descriptor.call(this, options, document);\n}\n\nexport default Document;\n\n/**\r\n * @this Document\r\n */\n\nfunction parse_descriptor(options, document) {\n\n    const index = create_object();\n    let field = document.index || document.field || document;\n\n    if (is_string(field)) {\n\n        field = [field];\n    }\n\n    for (let i = 0, key, opt; i < field.length; i++) {\n\n        key = field[i];\n\n        if (!is_string(key)) {\n\n            opt = key;\n            key = key.field;\n        }\n\n        opt = is_object(opt) ? Object.assign({}, options, opt) : options;\n\n        if (this.worker) {\n\n            index[key] = new WorkerIndex(opt);\n\n            if (!index[key].worker) {\n\n                this.worker = !1;\n            }\n        }\n\n        if (!this.worker) {\n\n            index[key] = new Index(opt, this.register);\n        }\n\n        this.tree[i] = parse_tree(key, this.marker);\n        this.field[i] = key;\n    }\n\n    if (this.storetree) {\n\n        let store = document.store;\n\n        if (is_string(store)) {\n\n            store = [store];\n        }\n\n        for (let i = 0; i < store.length; i++) {\n\n            this.storetree[i] = parse_tree(store[i], this.marker);\n        }\n    }\n\n    return index;\n}\n\nfunction parse_tree(key, marker) {\n\n    const tree = key.split(\":\");\n    let count = 0;\n\n    for (let i = 0; i < tree.length; i++) {\n\n        key = tree[i];\n\n        if (0 <= key.indexOf(\"[]\")) {\n\n            key = key.substring(0, key.length - 2);\n\n            if (key) {\n\n                marker[count] = !0;\n            }\n        }\n\n        if (key) {\n\n            tree[count++] = key;\n        }\n    }\n\n    if (count < tree.length) {\n\n        tree.length = count;\n    }\n\n    return 1 < count ? tree : tree[0];\n}\n\n// TODO support generic function created from string when tree depth > 1\n\nfunction parse_simple(obj, tree) {\n\n    if (is_string(tree)) {\n\n        obj = obj[tree];\n    } else {\n\n        for (let i = 0; obj && i < tree.length; i++) {\n\n            obj = obj[tree[i]];\n        }\n    }\n\n    return obj;\n}\n\n// TODO support generic function created from string when tree depth > 1\n\nfunction store_value(obj, store, tree, pos, key) {\n\n    obj = obj[key];\n\n    // reached target field\n\n    if (pos === tree.length - 1) {\n\n        // store target value\n\n        store[key] = obj;\n    } else if (obj) {\n\n        if (is_array(obj)) {\n\n            store = store[key] = Array(obj.length);\n\n            for (let i = 0; i < obj.length; i++) {\n\n                // do not increase pos (an array is not a field)\n                store_value(obj, store, tree, pos, i);\n            }\n        } else {\n\n            store = store[key] || (store[key] = create_object());\n            key = tree[++pos];\n\n            store_value(obj, store, tree, pos, key);\n        }\n    }\n}\n\nfunction add_index(obj, tree, marker, pos, index, id, key, _append) {\n\n    obj = obj[key];\n\n    if (obj) {\n\n        // reached target field\n\n        if (pos === tree.length - 1) {\n\n            // handle target value\n\n            if (is_array(obj)) {\n\n                // append array contents so each entry gets a new scoring context\n\n                if (marker[pos]) {\n\n                    for (let i = 0; i < obj.length; i++) {\n\n                        index.add(id, obj[i], !0, !0);\n                    }\n\n                    return;\n                }\n\n                // or join array contents and use one scoring context\n\n                obj = obj.join(\" \");\n            }\n\n            index.add(id, obj, _append, !0);\n        } else {\n\n            if (is_array(obj)) {\n\n                for (let i = 0; i < obj.length; i++) {\n\n                    // do not increase index, an array is not a field\n\n                    add_index(obj, tree, marker, pos, index, id, i, _append);\n                }\n            } else {\n\n                key = tree[++pos];\n\n                add_index(obj, tree, marker, pos, index, id, key, _append);\n            }\n        }\n    }\n}\n\n/**\r\n *\r\n * @param id\r\n * @param content\r\n * @param {boolean=} _append\r\n * @returns {Document|Promise}\r\n */\n\nDocument.prototype.add = function (id, content, _append) {\n\n    if (is_object(id)) {\n\n        content = id;\n        id = parse_simple(content, this.key);\n    }\n\n    if (content && (id || 0 === id)) {\n\n        if (!_append && this.register[id]) {\n\n            return this.update(id, content);\n        }\n\n        for (let i = 0, tree, field; i < this.field.length; i++) {\n\n            field = this.field[i];\n            tree = this.tree[i];\n\n            if (is_string(tree)) {\n\n                tree = [tree];\n            }\n\n            add_index(content, tree, this.marker, 0, this.index[field], id, tree[0], _append);\n        }\n\n        if (this.tag) {\n            let tag = parse_simple(content, this.tag),\n                dupes = create_object();\n\n\n            if (is_string(tag)) {\n\n                tag = [tag];\n            }\n\n            for (let i = 0, key, arr; i < tag.length; i++) {\n\n                key = tag[i];\n\n                if (!dupes[key]) {\n\n                    dupes[key] = 1;\n                    arr = this.tagindex[key] || (this.tagindex[key] = []);\n\n                    if (!_append || !arr.includes(id)) {\n\n                        arr[arr.length] = id;\n\n                        // add a reference to the register for fast updates\n\n                        if (this.fastupdate) {\n\n                            const tmp = this.register[id] || (this.register[id] = []);\n                            tmp[tmp.length] = arr;\n                        }\n                    }\n                }\n            }\n        }\n\n        // TODO: how to handle store when appending contents?\n\n        if (this.store && (!_append || !this.store[id])) {\n\n            let store;\n\n            if (this.storetree) {\n\n                store = create_object();\n\n                for (let i = 0, tree; i < this.storetree.length; i++) {\n\n                    tree = this.storetree[i];\n\n                    if (is_string(tree)) {\n\n                        store[tree] = content[tree];\n                    } else {\n\n                        store_value(content, store, tree, 0, tree[0]);\n                    }\n                }\n            }\n\n            this.store[id] = store || content;\n        }\n    }\n\n    return this;\n};\n\nDocument.prototype.append = function (id, content) {\n\n    return this.add(id, content, !0);\n};\n\nDocument.prototype.update = function (id, content) {\n\n    return this.remove(id).add(id, content);\n};\n\nDocument.prototype.remove = function (id) {\n\n    if (is_object(id)) {\n\n        id = parse_simple(id, this.key);\n    }\n\n    if (this.register[id]) {\n\n        for (let i = 0; i < this.field.length; i++) {\n\n            // workers does not share the register\n\n            this.index[this.field[i]].remove(id, !this.worker);\n\n            if (this.fastupdate) {\n\n                // when fastupdate was enabled all ids are removed\n\n                break;\n            }\n        }\n\n        if (this.tag) {\n\n            // when fastupdate was enabled all ids are already removed\n\n            if (!this.fastupdate) {\n\n                for (let key in this.tagindex) {\n                    const tag = this.tagindex[key],\n                          pos = tag.indexOf(id);\n\n\n                    if (-1 !== pos) {\n\n                        if (1 < tag.length) {\n\n                            tag.splice(pos, 1);\n                        } else {\n\n                            delete this.tagindex[key];\n                        }\n                    }\n                }\n            }\n        }\n\n        if (this.store) {\n\n            delete this.store[id];\n        }\n\n        delete this.register[id];\n    }\n\n    return this;\n};\n\n/**\r\n * @param {!string|Object} query\r\n * @param {number|Object=} limit\r\n * @param {Object=} options\r\n * @param {Array<Array>=} _resolve For internal use only.\r\n * @returns {Promise|Array}\r\n */\n\nDocument.prototype.search = function (query, limit, options, _resolve) {\n\n    if (!options) {\n\n        if (!limit && is_object(query)) {\n\n            options = /** @type {Object} */query;\n            query = \"\";\n        } else if (is_object(limit)) {\n\n            options = /** @type {Object} */limit;\n            limit = 0;\n        }\n    }\n\n    let result = [],\n        result_field = [],\n        pluck,\n        enrich,\n        field,\n        tag,\n        bool,\n        offset,\n        count = 0;\n\n\n    if (options) {\n\n        if (is_array(options)) {\n\n            field = options;\n            options = null;\n        } else {\n\n            query = options.query || query;\n            pluck = options.pluck;\n            field = pluck || options.index || options.field /*|| (is_string(options) && [options])*/;\n            tag = options.tag;\n            enrich = this.store && options.enrich;\n            bool = \"and\" === options.bool;\n            limit = options.limit || limit || 100;\n            offset = options.offset || 0;\n\n            if (tag) {\n\n                if (is_string(tag)) {\n\n                    tag = [tag];\n                }\n\n                // when tags is used and no query was set,\n                // then just return the tag indexes\n\n                if (!query) {\n\n                    for (let i = 0, res; i < tag.length; i++) {\n\n                        res = get_tag.call(this, tag[i], limit, offset, enrich);\n\n                        if (res) {\n\n                            result[result.length] = res;\n                            count++;\n                        }\n                    }\n\n                    return count ? result : [];\n                }\n            }\n\n            if (is_string(field)) {\n\n                field = [field];\n            }\n        }\n    }\n\n    field || (field = this.field);\n    bool = bool && (1 < field.length || tag && 1 < tag.length);\n\n    const promises = !_resolve && (this.worker || this.async) && [];\n\n    // TODO solve this in one loop below\n\n    for (let i = 0, res, key, len; i < field.length; i++) {\n\n        let field_options;\n\n        key = field[i];\n\n        if (!is_string(key)) {\n\n            field_options = key;\n            key = field_options.field;\n            query = field_options.query || query;\n            limit = field_options.limit || limit;\n            enrich = field_options.enrich || enrich;\n        }\n\n        if (promises) {\n\n            promises[i] = this.index[key].searchAsync(query, limit, field_options || options);\n\n            // just collect and continue\n\n            continue;\n        } else if (_resolve) {\n\n            res = _resolve[i];\n        } else {\n\n            // inherit options also when search? it is just for laziness, Object.assign() has a cost\n\n            res = this.index[key].search(query, limit, field_options || options);\n        }\n\n        len = res && res.length;\n\n        if (tag && len) {\n\n            const arr = [];\n            let count = 0;\n\n            if (bool) {\n\n                // prepare for intersection\n\n                arr[0] = [res];\n            }\n\n            for (let y = 0, key, res; y < tag.length; y++) {\n\n                key = tag[y];\n                res = this.tagindex[key];\n                len = res && res.length;\n\n                if (len) {\n\n                    count++;\n                    arr[arr.length] = bool ? [res] : res;\n                }\n            }\n\n            if (count) {\n\n                if (bool) {\n\n                    res = intersect(arr, limit || 100, offset || 0);\n                } else {\n\n                    res = intersect_union(res, arr);\n                }\n\n                len = res.length;\n            }\n        }\n\n        if (len) {\n\n            result_field[count] = key;\n            result[count++] = res;\n        } else if (bool) {\n\n            return [];\n        }\n    }\n\n    if (promises) {\n\n        const self = this;\n\n        // anyone knows a better workaround of optionally having async promises?\n        // the promise.all() needs to be wrapped into additional promise,\n        // otherwise the recursive callback wouldn't run before return\n\n        return new Promise(function (resolve) {\n\n            Promise.all(promises).then(function (result) {\n\n                resolve(self.search(query, limit, options, result));\n            });\n        });\n    }\n\n    if (!count) {\n\n        // fast path \"not found\"\n\n        return [];\n    }\n\n    if (pluck && (!enrich || !this.store)) {\n\n        // fast path optimization\n\n        return result[0];\n    }\n\n    for (let i = 0, res; i < result_field.length; i++) {\n\n        res = result[i];\n\n        if (res.length) {\n\n            if (enrich) {\n\n                res = apply_enrich.call(this, res);\n            }\n        }\n\n        if (pluck) {\n\n            return res;\n        }\n\n        result[i] = {\n\n            field: result_field[i],\n            result: res\n        };\n    }\n\n    return result;\n};\n\n/**\r\n * @this Document\r\n */\n\nfunction get_tag(key, limit, offset) {\n    let res = this.tagindex[key],\n        len = res && res.length - offset;\n}\n\n/**\r\n * @this Document\r\n */\n\nfunction apply_enrich(res) {\n\n    const arr = Array(res.length);\n\n    for (let x = 0, id; x < res.length; x++) {\n\n        id = res[x];\n\n        arr[x] = {\n\n            id: id,\n            doc: this.store[id]\n        };\n    }\n\n    return arr;\n}\n\nDocument.prototype.contain = function (id) {\n\n    return !!this.register[id];\n};\n\nDocument.prototype.get = function (id) {\n\n    return this.store[id];\n};\n\nDocument.prototype.set = function (id, data) {\n\n    this.store[id] = data;\n    return this;\n};\n\n\nDocument.prototype.searchCache = searchCache;\n\n\nDocument.prototype.export = exportDocument;\nDocument.prototype.import = importDocument;\n\n\napply_async(Document.prototype);","var n,l,u,t,i,r,o,e,f,c,s,a,h,p={},v=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,w=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,u,t){var i,r,o,e={};for(o in u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:e[o]=u[o];if(arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===e[o]&&(e[o]=l.defaultProps[o]);return m(l,e,i,r,null)}function m(n,t,i,r,o){var e={type:n,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++u:o,__i:-1,__u:0};return null==o&&null!=l.vnode&&l.vnode(e),e}function b(){return{current:null}}function k(n){return n.children}function x(n,l){this.props=n,this.context=l}function S(n,l){if(null==l)return n.__?S(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?S(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!$.__r++||r!=l.debounceRendering)&&((r=l.debounceRendering)||o)($)}function $(){for(var n,u,t,r,o,f,c,s=1;i.length;)i.length>s&&i.sort(e),n=i.shift(),s=i.length,n.__d&&(t=void 0,o=(r=(u=n).__v).__e,f=[],c=[],u.__P&&((t=d({},r)).__v=r.__v+1,l.vnode&&l.vnode(t),O(u.__P,t,r,u.__n,u.__P.namespaceURI,32&r.__u?[o]:null,f,null==o?S(r):o,!!(32&r.__u),c),t.__v=r.__v,t.__.__k[t.__i]=t,N(f,t,c),t.__e!=o&&C(t)));$.__r=0}function I(n,l,u,t,i,r,o,e,f,c,s){var a,h,y,w,d,g,_,m=t&&t.__k||v,b=l.length;for(f=P(u,l,m,f,b),a=0;a<b;a++)null!=(y=u.__k[a])&&(h=-1==y.__i?p:m[y.__i]||p,y.__i=a,g=O(n,y,h,i,r,o,e,f,c,s),w=y.__e,y.ref&&h.ref!=y.ref&&(h.ref&&B(h.ref,null,y),s.push(y.ref,y.__c||w,y)),null==d&&null!=w&&(d=w),(_=!!(4&y.__u))||h.__k===y.__k?f=A(y,f,n,_):\"function\"==typeof y.type&&void 0!==g?f=g:w&&(f=w.nextSibling),y.__u&=-7);return u.__e=d,f}function P(n,l,u,t,i){var r,o,e,f,c,s=u.length,a=s,h=0;for(n.__k=new Array(i),r=0;r<i;r++)null!=(o=l[r])&&\"boolean\"!=typeof o&&\"function\"!=typeof o?(f=r+h,(o=n.__k[r]=\"string\"==typeof o||\"number\"==typeof o||\"bigint\"==typeof o||o.constructor==String?m(null,o,null,null,null):w(o)?m(k,{children:o},null,null,null):null==o.constructor&&o.__b>0?m(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=n,o.__b=n.__b+1,e=null,-1!=(c=o.__i=L(o,u,f,a))&&(a--,(e=u[c])&&(e.__u|=2)),null==e||null==e.__v?(-1==c&&(i>s?h--:i<s&&h++),\"function\"!=typeof o.type&&(o.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,o.__u|=4))):n.__k[r]=null;if(a)for(r=0;r<s;r++)null!=(e=u[r])&&0==(2&e.__u)&&(e.__e==t&&(t=S(e)),D(e,e));return t}function A(n,l,u,t){var i,r;if(\"function\"==typeof n.type){for(i=n.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=n,l=A(i[r],l,u,t));return l}n.__e!=l&&(t&&(l&&n.type&&!l.parentNode&&(l=S(n)),u.insertBefore(n.__e,l||null)),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(w(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i,r,o,e=n.key,f=n.type,c=l[u],s=null!=c&&0==(2&c.__u);if(null===c&&null==n.key||s&&e==c.key&&f==c.type)return u;if(t>(s?1:0))for(i=u-1,r=u+1;i>=0||r<l.length;)if(null!=(c=l[o=i>=0?i--:r++])&&0==(2&c.__u)&&e==c.key&&f==c.type)return o;return-1}function T(n,l,u){\"-\"==l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||y.test(l)?u:u+\"px\"}function j(n,l,u,t,i){var r,o;n:if(\"style\"==l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]==t[l]||T(n.style,l,u[l])}else if(\"o\"==l[0]&&\"n\"==l[1])r=l!=(l=l.replace(f,\"$1\")),o=l.toLowerCase(),l=o in n||\"onFocusOut\"==l||\"onFocusIn\"==l?o.slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?t?u.u=t.u:(u.u=c,n.addEventListener(l,r?a:s,r)):n.removeEventListener(l,r?a:s,r);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!=l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=c++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,r,o,e,f,c,s){var a,h,p,v,y,_,m,b,S,C,M,$,P,A,H,L,T,j=u.type;if(null!=u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),o=[f=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof j)try{if(b=u.props,S=\"prototype\"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,t.__c?m=(h=u.__c=t.__c).__=h.__E:(S?u.__c=h=new j(b,M):(u.__c=h=new x(b,M),h.constructor=j,h.render=E),C&&C.sub(h),h.props=b,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,j.getDerivedStateFromProps(b,h.__s))),v=h.props,y=h.state,h.__v=u,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)||u.__v==t.__v){for(u.__v!=t.__v&&(h.props=b,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.some(function(n){n&&(n.__=u)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(v,y,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=d(d({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(v,y)),L=a,null!=a&&a.type===k&&null==a.key&&(L=V(a.props.children)),f=I(n,w(L)?L:[L],u,t,i,r,o,e,f,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=o)if(n.then){for(u.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;o[o.indexOf(f)]=null,u.__e=f}else{for(T=o.length;T--;)g(o[T]);z(u)}else u.__e=t.__e,u.__k=t.__k,n.then||z(u);l.__e(n,u,t)}else null==o&&u.__v==t.__v?(u.__k=t.__k,u.__e=t.__e):f=u.__e=q(t.__e,u,t,i,r,o,e,c,s);return(a=l.diffed)&&a(u),128&u.__u?void 0:f}function z(n){n&&n.__c&&(n.__c.__e=!0),n&&n.__k&&n.__k.forEach(z)}function N(n,u,t){for(var i=0;i<t.length;i++)B(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function V(n){return\"object\"!=typeof n||null==n||n.__b&&n.__b>0?n:w(n)?n.map(V):d({},n)}function q(u,t,i,r,o,e,f,c,s){var a,h,v,y,d,_,m,b=i.props,k=t.props,x=t.type;if(\"svg\"==x?o=\"http://www.w3.org/2000/svg\":\"math\"==x?o=\"http://www.w3.org/1998/Math/MathML\":o||(o=\"http://www.w3.org/1999/xhtml\"),null!=e)for(a=0;a<e.length;a++)if((d=e[a])&&\"setAttribute\"in d==!!x&&(x?d.localName==x:3==d.nodeType)){u=d,e[a]=null;break}if(null==u){if(null==x)return document.createTextNode(k);u=document.createElementNS(o,x,k.is&&k),c&&(l.__m&&l.__m(t,e),c=!1),e=null}if(null==x)b===k||c&&u.data==k||(u.data=k);else{if(e=e&&n.call(u.childNodes),b=i.props||p,!c&&null!=e)for(b={},a=0;a<u.attributes.length;a++)b[(d=u.attributes[a]).name]=d.value;for(a in b)if(d=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)v=d;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;j(u,a,null,d,o)}for(a in k)d=k[a],\"children\"==a?y=d:\"dangerouslySetInnerHTML\"==a?h=d:\"value\"==a?_=d:\"checked\"==a?m=d:c&&\"function\"!=typeof d||b[a]===d||j(u,a,d,b[a],o);if(h)c||v&&(h.__html==v.__html||h.__html==u.innerHTML)||(u.innerHTML=h.__html),t.__k=[];else if(v&&(u.innerHTML=\"\"),I(\"template\"==t.type?u.content:u,w(y)?y:[y],t,i,r,\"foreignObject\"==x?\"http://www.w3.org/1999/xhtml\":o,e,f,e?e[0]:i.__k&&S(i,0),c,s),null!=e)for(a=e.length;a--;)g(e[a]);c||(a=\"value\",\"progress\"==x&&null==_?u.removeAttribute(\"value\"):null!=_&&(_!==u[a]||\"progress\"==x&&!_||\"option\"==x&&_!=b[a])&&j(u,a,_,b[a],o),a=\"checked\",null!=m&&m!=u[a]&&j(u,a,m,b[a],o))}return u}function B(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function D(n,u,t){var i,r;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||B(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&D(i[r],u,t||\"function\"!=typeof n.type);t||g(n.__e),n.__c=n.__=n.__e=void 0}function E(n,l,u){return this.constructor(n,u)}function G(u,t,i){var r,o,e,f;t==document&&(t=document.documentElement),l.__&&l.__(u,t),o=(r=\"function\"==typeof i)?null:i&&i.__k||t.__k,e=[],f=[],O(t,u=(!r&&i||t).__k=_(k,null,[u]),o||p,p,t.namespaceURI,!r&&i?[i]:o?null:t.firstChild?n.call(t.childNodes):null,e,!r&&i?i:o?o.__e:t.firstChild,r,f),N(e,u,f)}function J(n,l){G(n,l,J)}function K(l,u,t){var i,r,o,e,f=d({},l.props);for(o in l.type&&l.type.defaultProps&&(e=l.type.defaultProps),u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:f[o]=void 0===u[o]&&null!=e?e[o]:u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),m(l.type,f,i||l.key,r||l.ref,null)}function Q(n){function l(n){var u,t;return this.getChildContext||(u=new Set,(t={})[l.__c]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!=n.value&&u.forEach(function(n){n.__e=!0,M(n)})},this.sub=function(n){u.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.delete(n),l&&l.call(n)}}),n.children}return l.__c=\"__cC\"+h++,l.__=n,l.Provider=l.__l=(l.Consumer=function(n,l){return n.children(l)}).contextType=l,l}n=v.slice,l={__e:function(n,l,u,t){for(var i,r,o;l=l.__;)if((i=l.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),o=i.__d),o)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=d({},this.state),\"function\"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},x.prototype.render=k,i=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e=function(n,l){return n.__v.__b-l.__v.__b},$.__r=0,f=/(PointerCapture)$|Capture$/i,c=0,s=F(!1),a=F(!0),h=0;export{x as Component,k as Fragment,K as cloneElement,Q as createContext,_ as createElement,b as createRef,_ as h,J as hydrate,t as isValidElement,l as options,G as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","/* eslint-disable camelcase */\nconst {\n    Link_previous,\n    Link_next,\n    Search_no_results,\n    Search_one_character_or_more,\n    Search_one_result,\n    Search_results,\n    Search_should_be_x_or_more,\n    Search_too_short,\n} = window.searchTranslation;\n\nconst textLinkPrevious = Link_previous;\nconst textLinkNext = Link_next;\nconst textSearchNoResults = Search_no_results;\nconst textSearchOneCharacterOrMore = Search_one_character_or_more;\nconst textSearchOneResult = Search_one_result;\nconst textSearchResults = Search_results;\nconst textSearchShouldBeXOrMore = Search_should_be_x_or_more;\nconst textSearchTooShort = Search_too_short;\n/* eslint-enable camelcase */\n\nexport {\n    textLinkPrevious,\n    textLinkNext,\n    textSearchNoResults,\n    textSearchOneCharacterOrMore,\n    textSearchOneResult,\n    textSearchResults,\n    textSearchShouldBeXOrMore,\n    textSearchTooShort,\n};\n","import * as preact from \"preact\";\nimport { textLinkNext, textLinkPrevious } from \"./translation\";\n/** @jsx preact.h */\n\nexport default function Pagination({ counter, start, settings, onPageSelect }) {\n    const pages = Math.ceil(counter / settings.show);\n    const page = start / settings.show;\n\n    let displayedPages;\n    if (page <= 2) {\n        // Display max three pages\n        displayedPages = Math.min(pages, 3);\n    } else {\n        // Display two more pages, but don't overflow\n        displayedPages = Math.min(pages, page + 2);\n    }\n\n    const items = [];\n\n    for (let f = 0; f < displayedPages; f++) {\n        if (f === page) {\n            items.push(<li className=\"current\">{f + 1}</li>);\n        } else {\n            items.push(\n                <li>\n                    <button\n                        type=\"button\"\n                        className=\"SearchResults__footer__link\"\n                        onClick={() => onPageSelect(f * settings.show)}\n                    >\n                        {f + 1}\n                    </button>\n                </li>,\n            );\n        }\n    }\n\n    return (\n        <div className=\"SearchResults__footer\">\n            <ul className=\"SearchResults__footer__links Pager\">\n                {start > 0 && (\n                    <li className=\"Pager--prev\">\n                        <button\n                            type=\"button\"\n                            className=\"SearchResults__footer__link\"\n                            onClick={() => onPageSelect(start - settings.show)}\n                        >\n                            {textLinkPrevious}\n                        </button>\n                    </li>\n                )}\n                {items}\n                {page + 1 !== pages && (\n                    <li className=\"Pager--next\">\n                        <button\n                            type=\"button\"\n                            className=\"SearchResults__footer__link\"\n                            onClick={() => onPageSelect(start + settings.show)}\n                        >\n                            {textLinkNext}\n                        </button>\n                    </li>\n                )}\n            </ul>\n        </div>\n    );\n}\n","import * as preact from \"preact\";\n/** @jsx preact.h */\n\n// TODO :: restore highlight\n/*function highlightText(search, text) {\n    if (settings.highlightTerms) {\n        var pattern = new RegExp(\n            `(${search})`,\n            settings.highlightEveryTerm ? \"gi\" : \"i\"\n        );\n        text = text.replace(\n            pattern,\n            '<span class=\"SearchResults__highlight\">$1</span>'\n        );\n    }\n\n    return text;\n}*/\n\nexport default function Result({ settings, item }) {\n    let text;\n    if (item.text) {\n        text = item.text\n            .split(\" \")\n            .slice(0, settings.descriptiveWords)\n            .join(\" \");\n        if (\n            item.text.length < text.length &&\n            text.charAt(text.length - 1) !== \".\"\n        ) {\n            text += \" ...\";\n        }\n    }\n\n    return (\n        <div className=\"SearchResult\">\n            <div className=\"SearchResults__title\">\n                <a href={settings.base_url + item.url}>{item.title}</a>\n            </div>\n            {settings.showURL && (\n                <div className=\"SearchResults__url\">\n                    <a href={settings.base_url + item.url}>\n                        {item.url.toLowerCase().replace(/https?:\\/\\//g, \"\")}\n                    </a>\n                </div>\n            )}\n            {text && <div className=\"SearchResults__text\">{text}</div>}\n        </div>\n    );\n}\n","import * as preact from \"preact\";\n\nimport Pagination from \"./Pagination\";\nimport Result from \"./Result\";\nimport {\n    textSearchNoResults,\n    textSearchOneCharacterOrMore,\n    textSearchOneResult,\n    textSearchResults,\n    textSearchShouldBeXOrMore,\n    textSearchTooShort,\n} from \"./translation\";\n\n/** @jsx preact.h */\n\nexport default class Search extends preact.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            search: this.props.settings.field.value || \"\",\n            start: 0,\n        };\n    }\n\n    // \"click\", \".SearchResults__close\"\n    handleClose = () => {\n        this.props.onClose();\n    };\n\n    scrollTop = () => {\n        if (this.resultRef) {\n            this.resultRef.scrollTop = 0;\n        }\n    };\n\n    handlePaginate = (start) => {\n        this.setState({ start }, this.scrollTop);\n    };\n\n    handleChange = (event) => {\n        this.setState({ search: event.target.value, start: 0 }, this.scrollTop);\n\n        this.props.settings.field.value = event.target.value;\n    };\n\n    getResults() {\n        const { settings } = this.props;\n        const { start } = this.state;\n\n        const warnings = [];\n        let counter = 0;\n        let results = [];\n\n        if (this.state.search.length < settings.minimumLength) {\n            warnings.push(textSearchTooShort);\n            warnings.push(\n                settings.minimumLength === 1\n                    ? textSearchOneCharacterOrMore\n                    : textSearchShouldBeXOrMore.replace(\n                          \"!min\",\n                          settings.minimumLength,\n                      ),\n            );\n\n            return { warnings, counter, results, start };\n        }\n\n        const found = Object.values(\n            this.props\n                .onSearch(this.state.search)\n                .reduce((acc, fieldResult) => {\n                    // FlexSearch returns results per field\n                    // We de-duplicate them here and have a single array of results\n                    for (const result of fieldResult.result) {\n                        if (!acc.hasOwnProperty(result.id)) {\n                            acc[result.id] = {\n                                url: result.id,\n                                title: result.doc.title,\n                                text: result.doc.text,\n                            };\n                        }\n                    }\n\n                    return acc;\n                }, {}),\n        );\n\n        counter = found.length;\n\n        if (counter === 0) {\n            warnings.push(textSearchNoResults);\n            return { warnings, counter, results, start };\n        }\n\n        if (settings.showTitleCount) {\n            this.props.onTitleChange(`(${counter})`);\n        }\n\n        results = found.filter(\n            (item, itemNumber) =>\n                itemNumber >= start && itemNumber < settings.show + start,\n        );\n\n        return { warnings, counter, results, start };\n    }\n\n    render() {\n        const { settings } = this.props;\n        const { warnings, counter, results, start } = this.getResults();\n\n        return (\n            <div>\n                <div className=\"SearchResultsBackdrop\" />\n                <div\n                    className=\"SearchResults\"\n                    ref={(el) => {\n                        this.resultRef = el;\n                    }}\n                >\n                    <input\n                        className=\"Search__field\"\n                        placeholder=\"Search...\"\n                        autoComplete=\"on\"\n                        autoSave=\"text_search\"\n                        type=\"search\"\n                        value={this.state.search}\n                        onInput={this.handleChange}\n                    />\n                    <button\n                        type=\"button\"\n                        className=\"SearchResults__close\"\n                        onClick={this.handleClose}\n                    >\n                        &times;\n                    </button>\n                    <div className=\"SearchResults__count\">\n                        {counter === 1\n                            ? textSearchOneResult\n                            : textSearchResults.replace(\"!count\", counter)}\n                    </div>\n                    {warnings.map((warning) => (\n                        <div key={warning} className=\"SearchResults__warning\">\n                            {warning}\n                        </div>\n                    ))}\n                    {results.map((result) => (\n                        <Result\n                            key={result.title}\n                            item={result}\n                            settings={settings}\n                        />\n                    ))}\n                    {counter > settings.show && (\n                        <Pagination\n                            counter={counter}\n                            start={start}\n                            settings={settings}\n                            onPageSelect={this.handlePaginate}\n                        />\n                    )}\n                </div>\n            </div>\n        );\n    }\n}\n","import Document from \"flexsearch/dist/module/document\";\nimport * as preact from \"preact\";\nimport Search from \"./Search\";\n\n/** @jsx preact.h */\n\nconst originalTitle = document.title;\n\nfunction getURLP(name) {\n    const elements = new RegExp(`[?|&]${name}=([^&;]+?)(&|#|;|$)`).exec(\n        window.location.search,\n    );\n\n    return (\n        decodeURIComponent((elements?.[1] || \"\").replace(/\\+/g, \"%20\")) || null\n    );\n}\n\nclass SearchEngine {\n    constructor(options) {\n        this.settings = {\n            field: document.getElementById(\"search_input\"),\n            form: document.getElementById(\"search_form\"),\n            show: 10,\n            showURL: true,\n            showTitleCount: true,\n            minimumLength: 3,\n            descriptiveWords: 25,\n            highlightTerms: true,\n            highlightEveryTerm: false,\n            contentLocation: \"daux_search_index.js\",\n            ...options,\n        };\n\n        this.searchIndex = {\n            pages: [],\n        };\n    }\n\n    loadData() {\n        if (!this.loadingPromise) {\n            // We do this as jsonp instead of an XHR or fetch request\n            // to be compatible with usage from filesystem\n            const po = document.createElement(\"script\");\n            po.type = \"text/javascript\";\n            po.async = true;\n            po.src = this.settings.base_url + this.settings.contentLocation;\n            const s = document.getElementsByTagName(\"script\")[0];\n            s.parentNode.insertBefore(po, s);\n\n            this.loadingPromise = new Promise((resolve) => {\n                window.load_search_index = (data) => resolve(data);\n            }).then((json) => {\n                this.searchIndex = new Document({\n                    doc: {\n                        id: \"url\",\n                        tag: \"tags\",\n                        field: [\"title\", \"text\"],\n                        store: [\"title\", \"text\"],\n                    },\n                });\n\n                let pages = json.pages;\n\n                // Only keep the pages related to the current language\n                if (window.searchLanguage) {\n                    const pagePrefix = `${window.searchLanguage}/`;\n                    pages = pages.filter(\n                        (item) => item.url.indexOf(pagePrefix) === 0,\n                    );\n                }\n\n                for (const page of pages) {\n                    this.searchIndex.add(page);\n                }\n            });\n        }\n\n        return this.loadingPromise;\n    }\n\n    run() {\n        if (getURLP(\"q\")) {\n            this.settings.field.value = getURLP(\"q\");\n\n            this.loadData().then(() => {\n                this.displaySearch();\n            });\n        }\n\n        this.settings.field.addEventListener(\"keyup\", (event) => {\n            // Start loading index once the user types text in the field, not before\n            this.loadData();\n\n            if (Number.parseInt(event.keyCode, 10) === 13) {\n                this.loadData().then(() => {\n                    this.displaySearch();\n                });\n            }\n        });\n\n        this.settings.form.addEventListener(\"submit\", (event) => {\n            event.preventDefault();\n            this.loadData().then(() => {\n                this.displaySearch();\n            });\n        });\n    }\n\n    keyUpHandler = (e) => {\n        if (e.which === 27) {\n            //escape\n            this.handleClose();\n        }\n    };\n\n    handleClose = () => {\n        document.title = originalTitle;\n\n        document.removeEventListener(\"keyup\", this.keyUpHandler);\n\n        document.body.classList.remove(\"with-search\");\n        preact.render(null, this.resultContainer);\n        this.resultContainer = null;\n    };\n\n    displaySearch() {\n        if (!this.resultContainer) {\n            this.resultContainer = document.createElement(\"div\");\n            document.body.appendChild(this.resultContainer);\n        }\n\n        document.addEventListener(\"keyup\", this.keyUpHandler);\n\n        preact.render(\n            <Search\n                onSearch={(term) =>\n                    this.searchIndex.search(term, { enrich: true })\n                }\n                onClose={this.handleClose}\n                onTitleChange={(title) => {\n                    document.title = `${title} ${originalTitle}`;\n                }}\n                settings={this.settings}\n            />,\n            this.resultContainer,\n        );\n\n        document.body.classList.add(\"with-search\");\n        document.body.scrollTop = 0;\n    }\n}\n\n// Main containers\n\nfunction search(options) {\n    const instance = new SearchEngine(options);\n    instance.run();\n}\n\n// Declare globally\nwindow.search = search;\n"],"names":["CacheClass","limit","this","cache","queue","searchCache","query","options","get","search","set","prototype","key","value","length","x","pos","indexOf","tmp","del","id","item","i","includes","splice","parse_option","default_value","create_object_array","count","array","Array","create_object","get_keys","obj","Object","keys","create","concat","arrays","apply","sort_by_length_down","a","b","is_array","val","constructor","is_string","is_object","is_function","register","self","args","arguments","arg","callback","promise","Promise","resolve","setTimeout","async","res","then","pipeline","str","normalize","split","_collapse","replace","matcher","stemmer","string","final","prev","char","len","collapse","words","filter","map","filtered","word","regex_whitespace","init_stemmer_or_matcher","is_stemmer","removal","regex","regexp","RegExp","encode","call","toLowerCase","global_lang","global_charset","preset","memory","charset","resolution","minlength","fastupdate","performance","optimize","context","depth","match","tokenize","score","default","Index","_register","lang","assign","apply_preset","bidirectional","boost","resolution_ctx","ctx","rtl","init_filter","get_score","term_length","single_result","result","offset","slice","get_array","arr","term","keyword","swap","remove_index","Math","min","append","content","add","_append","_skip_update","update","dupes_ctx","dupes","token","y","partial_score","substring","push_index","dupes_inner","size","context_score","suggest","query_new","index","sort","add_result","intersect","single_term","word_arr","arr_len","contain","remove","_skip_deletion","refs","export","import","check","check_suggest","word_arr_len","check_new","found","check_idx","z","intersect_union","mandatory","union","field","index_doc","data","on_done","JSON","stringify","exportIndex","return_value","doc","opt","importIndex","parse","exportDocument","idx","tagindex","store","importDocument","pid","WorkerIndex","toString","factory","window","_factory","is_node_js","exports","_self","worker","resolver","on","msg","onmessage","postMessage","task","worker_path","eval","Worker","URL","createObjectURL","Blob","type","e","IndexInterface","_index","Function","FlexSearch","message","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","d","definition","o","defineProperty","enumerable","prop","hasOwnProperty","Document","document","tree","marker","parse_tree","storetree","tag","parse_descriptor","parse_simple","store_value","add_index","join","get_tag","apply_enrich","_resolve","pluck","enrich","bool","result_field","promises","field_options","searchAsync","all","n","l","u","t","r","f","c","s","h","p","v","w","isArray","g","parentNode","removeChild","_","children","defaultProps","m","props","ref","__k","__","__b","__e","__c","__v","__i","__u","vnode","current","k","S","C","base","M","__d","push","$","__r","debounceRendering","shift","__P","O","__n","namespaceURI","N","I","P","B","A","nextSibling","String","L","D","insertBefore","nodeType","H","some","T","setProperty","test","j","style","cssText","addEventListener","removeEventListener","removeAttribute","setAttribute","F","event","render","contextType","__E","E","sub","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","V","q","diffed","forEach","localName","createTextNode","createElementNS","is","__m","childNodes","attributes","name","__html","innerHTML","unmount","componentWillUnmount","G","documentElement","firstChild","J","K","Q","Set","delete","Provider","__l","Consumer","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","bind","searchTranslation","Link_previous","Link_next","Search_no_results","Search_one_character_or_more","Search_one_result","Search_results","Search_should_be_x_or_more","Search_too_short","textLinkPrevious","textLinkNext","textSearchNoResults","textSearchOneCharacterOrMore","textSearchOneResult","textSearchResults","textSearchShouldBeXOrMore","textSearchTooShort","Pagination","displayedPages","page","items","li","className","button","onClick","onPageSelect","settings","show","counter","start","pages","ceil","div","ul","Result","text","descriptiveWords","charAt","href","base_url","url","title","showURL","Search","handleClose","onClose","scrollTop","resultRef","handlePaginate","handleChange","target","getResults","warnings","results","minimumLength","values","onSearch","reduce","acc","fieldResult","showTitleCount","onTitleChange","itemNumber","el","input","placeholder","autoComplete","autoSave","onInput","warning","preact","originalTitle","getURLP","elements","exec","location","decodeURIComponent","SearchEngine","keyUpHandler","which","body","classList","resultContainer","getElementById","form","highlightTerms","highlightEveryTerm","contentLocation","searchIndex","loadData","loadingPromise","po","createElement","src","getElementsByTagName","load_search_index","json","searchLanguage","pagePrefix","run","displaySearch","Number","parseInt","keyCode","preventDefault","appendChild"],"sourceRoot":""}